[#topic_gcz_rpm_lq]
= Encryption at Rest

[abstract]
Encryption-at-rest refers to encryption of data that is not "moving, which  applies to the sensitive data stored on the physical media of the server., such as drives.

On disk, Couchbase stores data in the form of files for each xref:architecture:core-data-access-vbuckets-bucket-partition.adoc#concept_lzt_qr2_xs[vBucket] and indexes.
As a best practices you can take several precautions to help secure the overall system such as encrypting confidential assets, and building a firewall around the cluster.
However, in a scenario where the physical media are stolen, a malicious party can just open and browse the data stored in these files.

To secure the host machine where you installed Couchbase Server, encrypt the important data and indexes storage locations using transparent data encryption.
These encryption technologies, offered by 3rd party on-disk encryption software vendors, prevent anyone who has no encryption keys (or is outside the configured security policy) from looking at the data.
Keep in mind that this kind of protection must be planned in advance.

The sample 3rd party encryption tools are:

* https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/sec-Encryption.html[Linux Unified Key Setup (LUKS)]
* Vormetric: http://www.couchbase.com/binaries/content/assets/us/partner-collateral/vormetric/couchbase-vormetric-solution-brief.pdf[click]to download more information.
* Gemalto: https://safenet.gemalto.com/resources/data-protection/couchbase-nosql-database-solution-brief/?langtype=1033[click] to download more information.
* Protegrity

You can use full disk encryption or the file level encryption.
When your sensitive data in Couchbase is encrypted at-rest on disk, it cannot be compromised if your database is stolen, copied, lost, or improperly accessed.

The following data locations and files should be encrypted:

* Data and index file paths
 ** Linux: [.path]_/opt/couchbase/var/lib/couchbase/data_
 ** Windows: [.path]_C:\Program Files\couchbase\server\var\lib\couchbase\data_
* Global Secondary Index file paths
 ** Linux: [.path]_/opt/couchbase/var/lib/couchbase/data/@2i_
 ** Windows: [.path]_C:\Program Files\couchbase\server\var\lib\couchbase\data\@2i_
* Couchbase configuration files and directory
 ** Linux: [.path]_/opt/couchbase/var/lib/couchbase/data_
 ** Windows: [.path]_C:\Program Files\couchbase\server\var\lib\couchbase\data_
* Couchbase password files
 ** Linux: [.path]_/opt/couchbase/var/lib/couchbase/isasl.pw_ and [.path]_/opt/couchbase/var/lib/couchbase/config/_.
 ** Windows: [.path]_C:\Program Files\couchbase\server\var\lib\couchbase\isasl.pw_ and [.path]_C:\Program Files\couchbase\server\var\lib\couchbase\var\lib\config\_.
