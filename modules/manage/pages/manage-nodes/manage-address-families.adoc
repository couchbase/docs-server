= Manage Address Families

[abstract]
Couchbase Server Enterprise Edition supports the IPV4 and IPV6 address families.


[#understanding-address-families]
== Understanding Address Families

Couchbase Server Enterprise Edition supports the IPV4 and IPV6 address families.
By default, IPV4 is the address family used.
For IPV6 to be used instead, configuration changes must be made.

Note the following:

* Although raw IPV6 addresses _can_ be used with the nodes of a Couchbase Server-cluster, cluster-management is nevertheless easier if each cluster-node is named with a fully qualified domain-name (such as `nodename.clustername.com`).

* Each cluster-node must be operating in _dual stack_ mode, thereby supporting both IPV4 and IPV6 addressing.

* DNS records must have been updated, to ensure appropriate address-resolution, following cluster-reconfiguration.

A Couchbase Server-cluster can be configured to use IPV6 at either of the following times:

* At cluster-creation.
For information, see xref:manage:manage-nodes/create-cluster.adoc[Create a Cluster].

* After the cluster has been created with IPV4 as its address family.
This is explained by the procedures below.

[#changing-address-family-to-ipv6]
== Changing Address Family to IPV6

Proceed as follows:

. Retrieve the current address-family setting, by means of the xref:cli:cbcli/couchbase-cli-ip-family.adoc[ip-family] CLI command, using the `--get` flag:
+
----
/opt/couchbase/bin/couchbase-cli ip-family \
-c 127.0.0.1 \
-u Administrator \
-p password \
--get
----
+
This call returns one of the following, three results:

** `Cluster using IPV4`: Every node in the cluster is using IPV4.
** `Cluster using IPV6`: Every node in the cluster is using IPV6.
** `Cluster is in mixed mode`:  The cluster contains some nodes that are using IPV4, and others that are using IPV6: this situation is indicative of an _error_, likely incurred during a previous, attempted reconfiguration of the address family for the cluster.
