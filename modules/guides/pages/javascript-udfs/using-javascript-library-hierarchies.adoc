= Using JavaScript Library Hierarchies
:description: Using namespaces to allocate libraries to bucket scopes.
:page-pagination: 
:page-edition: Enterprise Edition
:page-topic-type: guide
:page-toclevels: 2

[abstract]
{description}

== Introduction

As well as being defined for global use, libraries can be restricted to scopes within a bucket. 
This means that  access to the function can be restricted to users who have the privileges for the bucket.

== Creating a JavaScript Function Within a Scope

You can use the Query Workbench UI or the REST API to create a scoped library.

[tabs] 
====
Query Workbench::
+
--
. Select btn:[Query] to access the Query Workbench, then select btn:[UDF] Query Workbench menu.
+
image::javascript-udfs/navigate-to-udf-query.png[alt="route to the user-defined functions screen"]

. Click on the *{plus} add function library* link in the `Javascript Function Libraries` table to show the `Add Library` screen.

. Select your `Namespace` from the drop down list.
. Enter a name for the library in the `Library Name` field.
+
image::javascript-udfs/add-library-screen.png[,600, alt="add screen"]

. Add your own function to the library by typing it in below the preset example.
+
image::javascript-udfs/added-get-business-days-function.png[,600, alt="added new function"]

. Save the library by pressing the btn:[Save] button.
--

REST API::
+
--
. Start a shell session.
. Run a `curl` command to create a JavaScript library within a desired scope.

[source, console]
----
include::example$javascript-udfs/create-scoped-javascript-function-with-rest.sh[]
----
<.> Parameters denote that the function should reside in the `travel-sample` bucket and under the `inventory` scope within that bucket.
--
====

