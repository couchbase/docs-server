//tag::javascript-udf-multiple-references[]
[mermaid, subs="attributes"]
----
flowchart LR
    slqpp1("{sqlpp}: MyAdd(2,2)")   
    slqpp2("{sqlpp}: AnotherAdd(2,2)") 
    jfunction("javascript: add(2,2)")
    
    slqpp1 --references--> jfunction
    slqpp2 --references--> jfunction
----
//end::javascript-udf-multiple-references[]


//tag::javascript-udf-inline-call-sequence[]
[mermaid, subs="attributes"]
----
sequenceDiagram
    actor Dev
    participant JSEngine
    participant Query as Query Engine
    participant Bucket
    
    Dev ->> JSEngine: JS: var q = select â€¦
    activate JSEngine
    JSEngine ->> Query : N1QL call
    activate Query
    Query ->> JSEngine  : return query
    deactivate Query
    JSEngine ->> Dev : return q
    deactivate JSEngine
    
    loop Every document in q
    
       Dev ->>+ JSEngine : operate on document
       JSEngine ->>+ Query : get document
       Query ->>+ Bucket: get document
       Bucket ->>- Query : retrieved document
       Query ->>- JSEngine : retrieved document
    end
    
----


//end::javascript-udf-inline-call-sequence[]
