= Queries with curl/http requests

[abstract]
Couchbase Full Text Search supports running multiple types of queries through curl/http request. 

== Term Query

The below sample responds with a list of documents in which the field _type_ contains the term *airline*.

NOTE: The query works only for the terms with single word.

=== Curl Request

[source,JSON]
----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d 
'{
	"query": {
		"term": "airline", 
		"field": "type"
	}
}'
----

=== Curl Response

----
{"status":{
			"total":1,"failed":0,"successful":1
		},
		"request":{"query":{"term":"airline","field":"type"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
		"hits":[],"total_hits":0,"max_score":0,"took":142269776,"facets":null
}
----

== Phrase query

The below sample responds with a list of documents in which the field _title_ contains any one of the specified terms. For example, *Glossop* or *Giverny*.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d 
'{
	"query": {
		"terms": ["Glossop", "Giverny"], 
		"field": "title"
	}
}'
----

=== Curl Response

----
{"status":{
		"total":1,"failed":0,"successful":1
	},
	"request":{"query":{"terms":["Locair","Airlinair"],"field":"name"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},"hits":[],"total_hits":0,"max_score":0,"took":55939860,"facets":null
}

----

== Match Query

The below sample responds with a list of documents in which the field _name_ contains the exact matching term specified in the _term_ field. For example, "40-Mile Air".

=== Curl Request

----

curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query": {"field": "name", "match": "40-Mile Air"}}'

----

=== Curl Response

----
{"status":{
		"total":1,"failed":0,"successful":1
	},
	"request":{"query":{"match":"40-Mile Air","field":"name","prefix_length":0,"fuzziness":0,"operator":"or"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
	"hits":[
		{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":10.30528795525373,"sort":["_score"],"fields":{"_$c":"airline"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_16687",
	"score":1.085367329598051,"sort":["_score"],"fields":{"_$c":"hotel"}}],
	"total_hits":2,"max_score":10.30528795525373,"took":86844745,"facets":null
}
----

== Match_Phrase query

The below sample responds with a list of documents in which the field _name_ contains the exactly matching phrase specifed in _match_phrase_. For example, *40-Mile Air*.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query": {"match_phrase": "40-Mile Air", "field": "name"}}' 
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"match_phrase":"40-Mile Air","field":"name"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],
  "includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":10.305287955253732,
      "locations":{
        "name":{
          "40":[{"pos":1,"start":0,"end":2,"array_positions":null}],
          "air":[{"pos":3,"start":8,"end":11,"array_positions":null}],
          "mile":[{"pos":2,"start":3,"end":7,"array_positions":null}]
        }
      },
      "sort":["_score"],"fields":{"_$c":"airline"}}
  ],
  "total_hits":1,"max_score":10.305287955253732,"took":62498613,"facets":null
}
----

== Fuzzy Query

The below sample responds with a list of documents in which the field _name_ contains the term that matches with the phrase specified in the _match_ field. For example, *40-Mile Air*. It considers the matching to a degree specified in the _fuzziness_ field instead of exact matching.

=== Curl Request

----

curl -XPOST -H "Content-Type: application/json" -u Administrator:#Krishna0# http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "field": "name",
    "match": "40-Mile Air",
    "fuzziness": 2
  }
}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"match":"40-Mile Air","field":"name","prefix_length":0,"fuzziness":2,"operator":"or"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19199","score":0.17049220881184127,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":0.0956994969941305,"sort":["_score"],"fields":{"_$c":"airline"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21608","score":0.05690871682349641,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19326","score":0.05579005002540549,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21037","score":0.05061580360832486,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_35854","score":0.04431672583269436,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_3491","score":0.04321478718467854,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_20421","score":0.04286437075446538,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_1362","score":0.037911531284201695,"sort":["_score"],"fields":{"_$c":"hotel"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21721","score":0.037911531284201695,"sort":["_score"],"fields":{"_$c":"hotel"}}
    ],
    "total_hits":163,"max_score":0.17049220881184127,"took":21410046,"facets":null
  }

----

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "field": "name", 
    "match": "40-Mile Air", 
    "fuzziness": 1
  }, 
  "includeLocations": true
}'
----

=== Curl Response

----
{"status":{
		"total":1,"failed":0,"successful":1
	},
	"request":{"query":{"match":"40-Mile Air","field":"name","prefix_length":0,"fuzziness":0,"operator":"or"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
	"hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":10.30528795525373,"sort":["_score"],"fields":{"_$c":"airline"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_16687","score":1.085367329598051,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
	"total_hits":2,"max_score":10.30528795525373,"took":86844745,"facets":null
}
----

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "field": "name",
    "match": "40-Mile Air",
    "fuzziness": 2
  },
  "includeLocations": true, "analyzer": "standard"
}'
----

=== Curl Response

----
{"status":{
		"total":1,"failed":0,"successful":1
		},
		"request":{"query":{"match":"40-Mile Air","field":"name","prefix_length":0,"fuzziness":2,"operator":"or"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":true,"search_after":null,"search_before":null},
		"hits":[
			{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19199","score":0.17049220881184127,"locations":{"name":{"aire":[{"pos":1,"start":0,"end":4,"array_positions":null},{"pos":5,"start":26,"end":30,"array_positions":null}],
		  "le":[
			{"pos":3,"start":15,"end":17,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":0.0956994969941305,"locations":{"name":{"40":[{"pos":1,"start":0,"end":2,"array_positions":null}],
		  "air":[{"pos":3,"start":8,"end":11,"array_positions":null}],
		  "mile":[{"pos":2,"start":3,"end":7,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"airline"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21608","score":0.05690871682349641,
      "locations":{"name":{"le":[{"pos":2,"start":6,"end":8,"array_positions":null}],
      "m":[{"pos":3,"start":9,"end":10,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19326","score":0.05579005002540549,
      "locations":{"name":{"isle":[{"pos":1,"start":0,"end":4,"array_positions":null}],"mull":[{"pos":3,"start":8,"end":12,"array_positions":null}]}},
      "sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21037","score":0.05061580360832486,
      "locations":{"name":{"b":[{"pos":4,"start":13,"end":14,"array_positions":null},{"pos":5,"start":15,"end":16,"array_positions":null}],
      "yr":[{"pos":2,"start":5,"end":7,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_35854","score":0.04431672583269436,
      "locations":{"name":{"du":[{"pos":3,"start":9,"end":11,"array_positions":null}],
      "le":[{"pos":1,"start":0,"end":2,"array_positions":null}]}},
      "sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_3491","score":0.04321478718467854,"locations":{"name":{"five":[{"pos":1,"start":0,"end":4,"array_positions":null}],
      "rise":[{"pos":2,"start":5,"end":9,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_20421","score":0.04286437075446538,
      "locations":{"name":{"nh":[{"pos":1,"start":0,"end":2,"array_positions":null}],"nice":[{"pos":2,"start":3,"end":7,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_1362","score":0.037911531284201695,
      "locations":{"name":{"au":[{"pos":1,"start":0,"end":2,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21721","score":0.037911531284201695,
      "locations":{"name":{"iv":[{"pos":3,"start":12,"end":14,"array_positions":null}]}},"sort":["_score"],"fields":{"_$c":"hotel"}}
    ],
    "total_hits":163,"max_score":0.17049220881184127,"took":610500365,"facets":null
	}

----

== Prefix Query

The below sample responds with a list of documents in which the _name_ field contains the text that starts with the given prefix. For example, *Air*.

=== Curl Request 

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "fields" : ["name"],
  "query": {
    "field": "name",
    "prefix": "Air*"
  }
}'
----

=== Curl Response

----

----

== Regex Query

The below sample responds with a list of documents in which the _name_ field contains the text in the given form of a regular expression. For example, _airport_.


=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query":{"field":"name","regexp":"a[h-i]r[o-p]+ort"}}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
"request":{
  "query":{"regexp":"a[h-i]r[o-p]+ort","field":"name"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_15913","score":5.0166026709347635,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_37887","score":4.486985781600578,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
  "total_hits":2,"max_score":5.0166026709347635,"took":64912635,"facets":null
}
----

== Wildcard Query

The below sample responds with a list of documents in which the _country_ field contains the name that starts with *f* and ends with *ce*. For example, _france_.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "size":10, 
  "from":10,
  "ctl":{"timeout":30},
  "query":{
    "wildcard":"f*ce", 
    "field":"country"
  }
}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"wildcard":"f*ce","field":"country"},
  "size":10,"from":10,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],
  "includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21850","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21872","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_24536","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21837","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21725","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21846","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_40662","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_35857","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21855","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_21669","score":6.175990572936377,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
  "total_hits":141,"max_score":6.175990572936377,"took":49997068,"facets":null
}
----

== Query String Query

The below sample responds with a list of documents in which the _name_ field contains the text that starts with *air* and the _country_ field contains the name _france_.


=== Curl Request

The *name* field prefixed with _air_ and the *country* field contains _france_.

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query": {"query": "+name:air* +country:france"}}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"query":"+name:air* +country:france"},
  "size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19199","score":3.166810600229102,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
  "total_hits":1,"max_score":3.166810600229102,"took":593704,"facets":null
}

----

=== Curl Request

The below sample responds with a list of documents in which the *name* field is prefixed with _air_, and the *country* field contains anything other than _france_.

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query": {"query": "+name:air* -country:france"}}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"query":"+name:air* -country:france"},
  "size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],"includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airportDoc","score":1.0997886699799067,"sort":["_score"],"fields":{"_$c":"airline"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_16687","score":1.0997886699799067,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_15913","score":0.9524449440916017,"sort":["_score"],"fields":{"_$c":"hotel"}},
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_37887","score":0.8518926457255296,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
  "total_hits":4,"max_score":1.0997886699799067,"took":537291,"facets":null
}

----

== Boosting the score

The below sample responds with a list of documents in which both the _type_ field and _name_ field contains the term *airport* but the relevancy of the specified term, for example, _airport_ is more in the _name_ field than the _type_ field.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
"query": {
  "disjuncts": [
    {"query": "+type:airport"}, 
    {"query": "+name:airport^5"}
  ]
}'
----

=== Curl Response

----

----

== Conjuncts and Disjuncts

The below sample responds with a list of documents in which the _name_ field contains the text that starts with air and the _testing_ field is not *false*, and the _country_ field does not contain *france*.

== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "conjuncts": [
      {"query": "+name:air*"},
      {"disjuncts": [
        {"query": "+testing:false"},
        {"query": "country:france"}
      ]}
    ]
  }
}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"conjuncts":[{"query":"+name:air*"},{"disjuncts":[{"query":"+testing:false"},{"query":"country:france"}],"min":0}]},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],
  "includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
    {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_19199","score":1.8423829850895888,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],"total_hits":1,"max_score":1.8423829850895888,"took":81919182,"facets":null
}

----

== Boolean Query

== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query" : {
    "must": {
      "conjuncts":[{"field":"type", "match": "hotel"}, {"field":"country", "match": "United Kingdom"}]
    },
    "must_not": {
      "disjuncts": [{"field":"country", "match": "United States"}]
    },
    "should": {
      "disjuncts": [{"field":"free_parking", "bool": false}]
    }
  }
}'
----

=== Curl Response

----

----

== Date Range Query

The below sample responds with a list of documents in which the _updateOn_ field contains the date in between the _start_ date and _end_ date, both inclusive.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "start": "2001-01-01","inclusive_start": true,"end": "2021-06-31","inclusive_end": true,"field": "updatedOn"
  }
}'
----

=== Curl Response

----

----

== Numeric Range Query

The below sample responds with a list of documents in which the _id_ field is between the specified maximum (_max_) and minimum (_min_) values.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query":{
    "field":"id","max": 8100, "min": 8080
  }
}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{"query":{"min":10025,"max":10030,"field":"id"},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],
  "includeLocations":false,"search_after":null,"search_before":null},
  "hits":[
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_10025","score":0.922656832718857,"sort":["_score"],"fields":{"_$c":"hotel"}},{"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"hotel_10026","score":0.922656832718857,"sort":["_score"],"fields":{"_$c":"hotel"}}
  ],
  "total_hits":2,"max_score":0.922656832718857,"took":62274941,"facets":null
}

----

== DOC_ID QUERY

The below sample responds with a list of documents in which the document ID is any of the specified ids. For example, airline_10 and airline_10123.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query":{
    "ids":["airline_10", "airline_10123"]
  }
}'
----

=== Curl Response

----
{"status":{"total":1,"failed":0,"successful":1},
  "request":{
    "query":{"ids":["airline_10","airline_10123"]},"size":10,"from":0,"highlight":null,"fields":null,"facets":null,"explain":false,"sort":["-_score"],
    "includeLocations":false,"search_after":null,"search_before":null},
    "hits":[
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airline_10","score":1,"sort":["_score"],"fields":{"_$c":"airline"}},
      {"index":"DemoIndex_580e3ee6ba3ac900_4c1c5584","id":"airline_10123","score":1,"sort":["_score"],"fields":{"_$c":"airline"}}
    ],
    "total_hits":2,"max_score":1,"took":139708973,"facets":null
  }

----

== Bounded Rectangle Query

The below sample responds with a list of documents in which the geolocation (_geo_) is bounded between the specified _top_left_ and _bottom_right_.

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "field": "geo", "bottom_right": [-66.9326, 24.9493], "top_left": [-125.0011, 49.5904]
  }'
----

=== Curl Response

----

----

== Point Distance Query


=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
      "from": 0,
      "size": 10,
      "query": {
        "location": {
          "lon": -2.235143,
          "lat": 53.482358
        },
        "distance": "1mi",
        "field": "geo"
      },
      "sort": [
        {
          "by": "geo_distance",
          "field": "geo",
          "unit": "mi",
          "location": {
            "lon": -2.235143,
            "lat": 53.482358
          }
        }
      ]
    }'
----

=== Curl Response

----

----

== Date Range Facets Query


=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": {
    "field": "country",
    "term": "united"
  },
  "facets": {
    "types": {
      "size": 10,
      "field": "updatedOn",
      "date_ranges": [
        {
          "name": "old",
          "end": "2011-01-01"
        },
        {
          "name": "new",
          "start": "2011-01-02"
        }
      ]
    }
  }
}'
----

=== Curl Response

----

----
  
== Term facet

The below sample is to fetch the top 10 brands based on the number of products offering gifts for customers.

* Type Mapping => type:product
* child-field: description, 
* child-field: brand
* Analyzer: standard

=== Curl Request

----
curl -XPOST -H "Content-Type: application/json" -u <userName>:<Password> http://localhost:8094/api/index/DemoIndex/query -d '{
  "query": "+gift +mother", "field": "description"}, 
  "facets": {"brands": {"field": "brand", "size": 10}}
}' | jq
----

=== Curl Response

----

----