= Demonstration Indexes

[abstract]
Demonstration indexes are provided, to exemplify the running of Full Text Searches.

[#using-demonstration-indexes]
== Using Demonstration Indexes

An extensive code-example, which uses the Couchbase Java SDK, is provided in xref:3.0@java-sdk:howtos:full-text-searching-with-sdk.adoc[Searching from the SDK].
This relies on three index definitions, respectively named `travel-sample-index-unstored`, `travel-sample-index-stored`, and `travel-sample-index-hotel-definition`.
Therefore, for the code-example to be successfully run, the three indexes must be established on Couchbase Server.

Optionally, the indexes can each be set up by means of the Couchbase Web Console, based on the descriptions provided in xref:2.7@java-sdk::full-text-searching-with-sdk.adoc[Searching from the SDK].
Information on this process is provided in xref:fts-creating-indexes.adoc[Creating Indexes].
However, each index can also be established by means of a single REST command, which specifies all required index-details as a JSON document.
Information on doing so can be found in the section xref:fts-creating-indexes.adoc#index-creation-with-the-rest-api[Index-Creation with the REST API], on the _Creating Indexes_ page.
The three definitions are provided below.

This page also provides a definition for the `geoIndex` definition, used in the section xref:fts-geospatial-queries.adoc[Geospatial Queries].

[#travel-sample-index-unstored]
== Index Definition: travel-sample-index-unstored

[source,javascript]
----
{
 "name": "travel-sample-index-unstored",
 "type": "fulltext-index",
 "params": {
  "doc_config": {
   "docid_prefix_delim": "",
   "docid_regexp": "",
   "mode": "scope.collection.type_field",
   "type_field": "type"
  },
  "mapping": {
   "analysis": {
    "analyzers": {
     "analyzer name": {
      "tokenizer": "unicode",
      "type": "custom"
     }
    },
    "char_filters": {
     "deleteLeadingWhitespace": {
      "regexp": "^[\\t]+",
      "replace": "",
      "type": "regexp"
     }
    },
    "token_filters": {
     "lengthTokenFilter": {
      "max": 255,
      "min": 3,
      "type": "length"
     }
    },
    "token_maps": {
     "positiveAttributesWordsList": {
      "tokens": [
       "powerful",
       "flexible",
       "scalable",
       "open"
      ],
      "type": "custom"
     }
    },
    "tokenizers": {
     "removeQuestionsMarksAndDashes": {
      "regexp": "('/[-?]/',\",$string)",
      "type": "regexp"
     }
    }
   },
   "default_analyzer": "standard",
   "default_datetime_parser": "dateTimeOptional",
   "default_field": "_all",
   "default_mapping": {
    "dynamic": true,
    "enabled": true
   },
   "default_type": "_default",
   "docvalues_dynamic": false,
   "index_dynamic": true,
   "store_dynamic": false,
   "type_field": "_type",
   "types": {
    "hotel": {
     "dynamic": true,
     "enabled": false,
     "properties": {
      "reviews": {
       "dynamic": false,
       "enabled": true,
       "properties": {
        "content": {
         "enabled": true,
         "dynamic": false,
         "fields": [
          {
           "docvalues": true,
           "include_in_all": true,
           "include_term_vectors": true,
           "index": true,
           "name": "content",
           "type": "text"
          }
         ]
        }
       }
      },
      "description": {
       "enabled": true,
       "dynamic": false,
       "fields": [
        {
         "docvalues": true,
         "include_in_all": true,
         "include_term_vectors": true,
         "index": true,
         "name": "description",
         "type": "text"
        }
       ]
      }
     }
    }
   }
  },
  "store": {
   "indexType": "scorch",
   "segmentVersion": 15
  }
 },
 "sourceType": "gocbcore",
 "sourceName": "travel-sample",
 "sourceUUID": "84d145473291235f38b03dafb0652148",
 "sourceParams": {},
 "planParams": {
  "maxPartitionsPerPIndex": 171,
  "indexPartitions": 6,
  "numReplicas": 0
 },
 "uuid": "144c1368c8c5ea03"
}
----

[#travel-sample-index-stored]
== Index Definition: travel-sample-index-stored

[source,javascript]
----
{
 "name": "travel-sample-index-stored",
 "type": "fulltext-index",
 "params": {
  "doc_config": {
   "docid_prefix_delim": "",
   "docid_regexp": "",
   "mode": "scope.collection.type_field",
   "type_field": "type"
  },
  "mapping": {
   "analysis": {
    "analyzers": {
     "analyzer name": {
      "tokenizer": "unicode",
      "type": "custom"
     }
    },
    "char_filters": {
     "deleteLeadingWhitespace": {
      "regexp": "^[\\t]+",
      "replace": "",
      "type": "regexp"
     }
    },
    "token_filters": {
     "lengthTokenFilter": {
      "max": 255,
      "min": 3,
      "type": "length"
     }
    },
    "token_maps": {
     "positiveAttributesWordsList": {
      "tokens": [
       "powerful",
       "flexible",
       "scalable",
       "open"
      ],
      "type": "custom"
     }
    },
    "tokenizers": {
     "removeQuestionsMarksAndDashes": {
      "regexp": "('/[-?]/',\",$string)",
      "type": "regexp"
     }
    }
   },
   "default_analyzer": "standard",
   "default_datetime_parser": "dateTimeOptional",
   "default_field": "_all",
   "default_mapping": {
    "dynamic": true,
    "enabled": true
   },
   "default_type": "_default",
   "docvalues_dynamic": false,
   "index_dynamic": true,
   "store_dynamic": true,
   "type_field": "_type",
   "types": {
    "hotel": {
     "dynamic": true,
     "enabled": false,
     "properties": {
      "reviews": {
       "dynamic": false,
       "enabled": true,
       "properties": {
        "content": {
         "enabled": true,
         "dynamic": false,
         "fields": [
          {
           "docvalues": true,
           "include_in_all": true,
           "include_term_vectors": true,
           "index": true,
           "name": "content",
           "store": true,
           "type": "text"
          }
         ]
        }
       }
      },
      "description": {
       "enabled": true,
       "dynamic": false,
       "fields": [
        {
         "docvalues": true,
         "include_in_all": true,
         "include_term_vectors": true,
         "index": true,
         "name": "description",
         "store": true,
         "type": "text"
        }
       ]
      }
     }
    }
   }
  },
  "store": {
   "indexType": "scorch",
   "segmentVersion": 15
  }
 },
 "sourceType": "gocbcore",
 "sourceName": "travel-sample",
 "sourceUUID": "84d145473291235f38b03dafb0652148",
 "sourceParams": {},
 "planParams": {
  "maxPartitionsPerPIndex": 171,
  "indexPartitions": 6,
  "numReplicas": 0
 },
 "uuid": "34894c6a70fba74c"
}
----

[#travel-sample-index-hotel-description]
== Index Definition: travel-sample-index-hotel-description

[source,javascript]
----
{
 "name": "travel-sample-index-hotel",
 "type": "fulltext-index",
 "params": {
  "doc_config": {
   "docid_prefix_delim": "",
   "docid_regexp": "",
   "mode": "scope.collection.type_field",
   "type_field": "type"
  },
  "mapping": {
   "analysis": {
    "analyzers": {
     "analyzer name": {
      "tokenizer": "unicode",
      "type": "custom"
     }
    },
    "char_filters": {
     "deleteLeadingWhitespace": {
      "regexp": "^[\\t]+",
      "replace": "",
      "type": "regexp"
     }
    },
    "token_filters": {
     "lengthTokenFilter": {
      "max": 255,
      "min": 3,
      "type": "length"
     }
    },
    "token_maps": {
     "positiveAttributesWordsList": {
      "tokens": [
       "powerful",
       "flexible",
       "scalable",
       "open"
      ],
      "type": "custom"
     }
    },
    "tokenizers": {
     "removeQuestionsMarksAndDashes": {
      "regexp": "('/[-?]/',\",$string)",
      "type": "regexp"
     }
    }
   },
   "default_analyzer": "standard",
   "default_datetime_parser": "dateTimeOptional",
   "default_field": "_all",
   "default_mapping": {
    "dynamic": true,
    "enabled": true
   },
   "default_type": "_default",
   "docvalues_dynamic": false,
   "index_dynamic": true,
   "store_dynamic": true,
   "type_field": "_type",
   "types": {
    "hotel": {
     "dynamic": true,
     "enabled": true,
     "properties": {
      "reviews": {
       "dynamic": false,
       "enabled": true,
       "properties": {
        "content": {
         "enabled": true,
         "dynamic": false,
         "fields": [
          {
           "docvalues": true,
           "include_in_all": true,
           "include_term_vectors": true,
           "index": true,
           "name": "content",
           "store": true,
           "type": "text"
          }
         ]
        }
       }
      },
      "description": {
       "enabled": true,
       "dynamic": false,
       "fields": [
        {
         "docvalues": true,
         "include_in_all": true,
         "include_term_vectors": true,
         "index": true,
         "name": "description",
         "store": true,
         "type": "text"
        }
       ]
      }
     }
    }
   }
  },
  "store": {
   "indexType": "scorch",
   "segmentVersion": 15
  }
 },
 "sourceType": "gocbcore",
 "sourceName": "travel-sample",
 "sourceUUID": "84d145473291235f38b03dafb0652148",
 "sourceParams": {},
 "planParams": {
  "maxPartitionsPerPIndex": 171,
  "indexPartitions": 6,
  "numReplicas": 0
 },
 "uuid": "510e88aa85ddf420"
}
----

[#index-definition-geoIndex]
== Index Definition: geoIndex

The following index is used to support the _geospatial_ queries described in xref:fts-geospatial-queries.adoc[Geospatial Queries].

[source,javascript]
----
{
 "name": "travel-sample-index-geoindex",
 "type": "fulltext-index",
 "params": {
  "doc_config": {
   "docid_prefix_delim": "",
   "docid_regexp": "",
   "mode": "scope.collection.type_field",
   "type_field": "type"
  },
  "mapping": {
   "analysis": {
    "analyzers": {
     "analyzer name": {
      "tokenizer": "unicode",
      "type": "custom"
     }
    },
    "char_filters": {
     "deleteLeadingWhitespace": {
      "regexp": "^[\\t]+",
      "replace": "",
      "type": "regexp"
     }
    },
    "token_filters": {
     "lengthTokenFilter": {
      "max": 255,
      "min": 3,
      "type": "length"
     }
    },
    "token_maps": {
     "positiveAttributesWordsList": {
      "tokens": [
       "powerful",
       "flexible",
       "scalable",
       "open"
      ],
      "type": "custom"
     }
    },
    "tokenizers": {
     "removeQuestionsMarksAndDashes": {
      "regexp": "('/[-?]/',\",$string)",
      "type": "regexp"
     }
    }
   },
   "default_analyzer": "standard",
   "default_datetime_parser": "dateTimeOptional",
   "default_field": "_all",
   "default_mapping": {
    "dynamic": true,
    "enabled": true,
    "properties": {
     "geo": {
      "enabled": true,
      "dynamic": false,
      "fields": [
       {
        "include_in_all": true,
        "index": true,
        "name": "geo",
        "store": true,
        "type": "geopoint"
       }
      ]
     }
    }
   },
   "default_type": "_default",
   "docvalues_dynamic": false,
   "index_dynamic": true,
   "store_dynamic": true,
   "type_field": "_type",
   "types": {
    "hotel": {
     "dynamic": true,
     "enabled": false,
     "properties": {
      "reviews": {
       "dynamic": false,
       "enabled": true,
       "properties": {
        "content": {
         "enabled": true,
         "dynamic": false,
         "fields": [
          {
           "docvalues": true,
           "include_in_all": true,
           "include_term_vectors": true,
           "index": true,
           "name": "content",
           "store": true,
           "type": "text"
          }
         ]
        }
       }
      },
      "description": {
       "enabled": true,
       "dynamic": false,
       "fields": [
        {
         "docvalues": true,
         "include_in_all": true,
         "include_term_vectors": true,
         "index": true,
         "name": "description",
         "store": true,
         "type": "text"
        }
       ]
      }
     }
    }
   }
  },
  "store": {
   "indexType": "scorch",
   "segmentVersion": 15
  }
 },
 "sourceType": "gocbcore",
 "sourceName": "travel-sample",
 "sourceUUID": "84d145473291235f38b03dafb0652148",
 "sourceParams": {},
 "planParams": {
  "maxPartitionsPerPIndex": 171,
  "indexPartitions": 6,
  "numReplicas": 0
 },
 "uuid": "382c75831c726349"
}
----
