[#topic_h12_hqn_vs]
= Cluster settings

[abstract]
The Cluster tab provides an interface to configure the cluster name, RAM quota, index settings, and so on.

[#image_dcr_5zz_zs]
image::admin/picts/settings-cluster.png[,align=left]

In the Cluster tab, the following sections can be edited or viewed:

== Configure Cluster

Cluster Name:: The name that was given during the initial setup, which you can edit in the UI, change with the CLI command or with a call to the REST API:
+
----
couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-name="New Cluster Name"
----
+
or
+
----
curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d clusterName="New Cluster Name"
----

Certificate::
The self-signed SSL certificate that is deployed across the cluster on each node.
It is provided to set up secure communication in an XDCR environment, all nodes in a cluster have the same certificate.
Click to display the certificate.
It is also possible to retrieve the certificate using the xref:rest-api:rest-xdcr-data-encrypt.adoc#rest-xdcr-data-encrypt[REST API] or save to a file with the CLI command:
+
----
 curl http://localhost:8091/pools/default/certificate
----
+
or
+
----
 couchbase-cli ssl-manage -c localhost -u Admin -p Pass  --retrieve-cert=/tmp/cert.file
----
+
You can re-generate he SSL certificate by clicking on [.uicontrol]*Regenerate*, trigger a new SSL certificate with  the xref:rest-api:rest-xdcr-data-encrypt.adoc#rest-xdcr-data-encrypt[REST API] or generate a new certificate and save it to a file with the CLI command:
+
Example:
+
----
 curl -u Admin:Pass -X POST http://localhost:8091/controller/regenerateCertificate
----
+
or
+
----
  couchbase-cli ssl-manage -c localhost -u Admin -p Pass --regenerate-cert=/tmp/cert.file
----

NOTE: SSL Encryption is only available in the Enterprise Edition of Couchbase Server.

== Cluster RAM Quota

RAM Available:: The per-node RAM that is available to Couchbase services limited to the smallest node in the cluster.

Data RAM Quota::
Per node memory allocation for the key-value cache used by the data service.
At a minimum, it cannot be made smaller than the sum per node bucket quota of all buckets combined.
This value can be adjusted in the UI, with the CLI or with the REST API.
+
Example:
+
----
 couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-ramsize=600
----
+
or
+
----
curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d memoryQuota=600
----

Index RAM Quota::
This setting controls the buffer cache size of the index storage layer.
The specified memory is pre-allocated as soon as the indexer starts up, and is shared with all indexes created on the node.
The total memory usage of the indexer process will be the buffer cache plus the size of various internal data structures and queues.
You can adjust the per-node memory in the UI, with the CLI command or with the REST API.
+
Example
+
----
couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-index-ramsize=300
----
+
or
+
----
curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d indexMemoryQuota=300
----

== Index Settings

Index Threads::
The number of dedicated threads used by the Index Service.
The number can be increased on multi-core machines to increase the amount of CPU available to the Indexer.
The default is 4 and you can adjust it in the UI or with the REST API.
+
Example:
+
----
curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d indexerThreads=3
----

In Memory Snapshot Interval::
Frequency of in-memory snapshots which determines the earliest possibility an indexer scan can discover a data service Key/Value mutation.
The default is 200 milliseconds and you  can adjust it in the UI or with the REST API.
+
Example:
+
----
curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d memorySnapshotInterval=300
----

Stable Snapshot Interval::
Frequency of a persisted snapshot for recovery.
The default is 5000 milliseconds and you can adjust it in the UI or with the REST API.
+
Example:
+
----
curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d stableSnapshotInterval=4000
----

Max Rollback Points::
Maximum number of the committed rollback points.
The default is 5 and you can adjust it in the UI or with the REST API.
+
Example:
+
----
curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d maxRollbackPoints=6
----

Indexer Log Level::
Adjust the logging level from least to most verbose, the options are Silent, Fatal, Error, Warn, Info, Verbose, Timing, Debug, Trace with the default being Debug.
It is advised to leave this setting as the default unless Couchbase Support directs you to change it.
