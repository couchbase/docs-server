= Change Failover Settings

[abstract]
Full Administrators and Cluster Administrators can enable auto-failover, which will automatically failover a node identified as unresponsive or unavailable.

When you enable the auto-failover, it is enabled for all services except for the Index Service.

Automatic failover is disabled by default.
The timeout settings determine how long a node is unresponsive to the rest of the cluster before the auto-failover process triggers a failover.

image::admin/settings-autofailover.png[,720,align=left]

To enable the automatic failover in the Couchbase Web Console:

. Check the [.ui]*Enable auto-failover* check box.
. To set the delay in seconds before auto-failover is started, enter the number of seconds in the [.ui]*Timeout* box.
+
The default timeout is 120 seconds.
In almost all cases, it is recommended to leave the timeout at the default.

The auto failure settings can also be adjusted using the REST API.

Example:

----
curl -X POST -u Admin:Pass http://localhost:8091/settings/autoFailover -d 'enabled=true&timeout=120'
----

NOTE: After a node has been automatically failed over, the Couchbase Server cluster increments an internal counter that indicates if a node has been failed over.
This counter prevents the cluster from automatically failing over additional nodes until you can identify the issue that caused the failover and resolve it.
If the internal counter indicates a node has failed over, the cluster will no longer automatically fail-over additional nodes.
You will need to re-enable automatic failover in a cluster by resetting this counter.

Example:

----
curl -X POST -i -u [admin]:[password] \
  http://localhost:8091/settings/autoFailover/resetCount
----
