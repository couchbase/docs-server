= Release Notes for Couchbase Server 7.0 Beta

Couchbase Server 7.0, now in Beta, introduces scopes and collections that provide new database organizaion structures within Couchbase. It also brings new capabilities to the Query Service in addition to support for scopes and collections. 

Take a look at xref:introduction:whats-new.adoc[What's New?] for a list of new features and improvements in this release.

[#release-700]
== Release 7.0.0 Beta (November 2020)

_Quick Links_: <<supported-platforms-700>> | <<deprecation-700>> | <<known-issues-700>>


[#supported-platforms-700]
=== New Supported Platforms

This release adds support for the following platforms:

* Ubuntu 20.04

See xref:install:install-platforms.adoc[Supported Platforms] for the complete list of supported platforms.

[#deprecation-700]
=== Deprecated Features and Platforms

==== Deprecated and Removed Features

* The 'cbdocloader' tool used to load sample datasets is deprecated in this release. You can use the 'cbimport' tool with the '--format sample' flag as the 'cbimport' tool provides an equivalent feature set and is collection-aware.

* The MOSS index type, available in the full-text search service, is deprecated in this release.

* Support for passwordless buckets in the query service is deprecated.


[#known-issues-700]
=== Known Issues

This section highlights some of the known issues in this release. 

==== Cluster Manager

[#table_knownissues_v700-cluster-manager,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-40654[MB-40654^]
| *Summary*: Operations to create or drop a scope or collection sometimes fail with a 503 status error.
|===

==== Data Service

[#table_knownissues_v700-data,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-42524[MB-42524^]
| *Summary*: After bucket reaches DGM ~75%, an Out of Memory (OOM) error is seen in the logs, and `doc_ops` drops to ~0. 

| https://issues.couchbase.com/browse/MB-41336[MB-41336^]
| *Summary*: Multi-node swap rebalance failure involving collections support and durability.

| https://issues.couchbase.com/browse/MB-41332[MB-41332^]
| *Summary*: At the end of rebalance when a vBucket is removed from itâ€™s old location, a crash may be seen if a outstanding backfill is still in progress.

| https://issues.couchbase.com/browse/MB-40934[MB-40934^]
| *Summary*: If a workload includes Synchronous Writes, rebalance can fail due to a race condition between transferring the vBucket and updating Synchronous Write status. Workaround: Retry the rebalance
|===

==== Eventing Service

[#table_knownissues_v700-eventing,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-42605[MB-42605^]
| *Summary*: Deploying the same handler with the same binding did not throw an inter handler recursion error with collections.

| https://issues.couchbase.com/browse/MB-42587[MB-42587^]
| *Summary*: Duplicate mutations for the source bucket mutation were observed after deploying multiple handlers with collections and rebalance in two eventing nodes. 
|===

==== Index Service

[#table_knownissues_v700-gsi,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-42788[MB-42788^]
| *Summary:* When two or more Sync Gateway servers start and connect to the same bucket on Couchbase server, index creation could fail.

| https://issues.couchbase.com/browse/MB-41897[MB-41897^]
| *Summary:* Rebalancing out of an assigned node of an index during schedule stage results in the index getting stuck on the reassigned node.

| https://issues.couchbase.com/browse/MB-41597[MB-41597^]
| *Summary:* Index replication during rebalance operation after adding a new index node gets stuck.

| https://issues.couchbase.com/browse/MB-41410[MB-41410^]
| *Summary:* During testing, it is observed that building indexes across collections can take a long time.
|===

==== Tools, Web Console (UI), and REST API

[#table_knownissues_v700-tools-ui-rest-api,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-39609[MB-39609^]
| *Summary*: Dropping indexes on non-default collections from the UI result in an error.
|===
