= Release Notes for Couchbase Server 6.6

Couchbase Server 6.6 adds features and enhancements to improve developer productivity, foster Cloud deployments, and enable operational analytics on globally distributed data. 

Take a look at xref:introduction:whats-new.adoc[What's New?] for a list of new features and improvements in this release.

[#release-660]
== Release 6.6.0 (August 2020)

Couchbase Server 6.6 was released in August 2020.

_Quick Links_: <<supported-platforms-660>> | <<deprecation-660>> | <<known-issues-660>> | <<fixed-issues-660>>

[#changes-in-behavior-660]
=== Major Changes in Behavior from Previous Releases

This section notes major changes in behavior from previous releases.

* Search: To ensure consistent results with covering and non-covering index queries, a keyword analyzer for queries that don't use an analyzer is mandated.

[#supported-platforms-660]
=== New Supported Platforms

This release adds support for the following platforms:

* Red Hat Enterprise Linux (RHEL) 8.2

See xref:install:install-platforms.adoc[Supported Platforms] for the complete list of supported platforms.

[#deprecation-660]
=== Deprecated Features and Platforms

==== Deprecated and Removed Platforms

Starting with this release, Java Runtime Environment(JRE) Version 8 is no longer supported.  The Analytics Service requires JRE Version 11 or later to be installed.

==== Deprecated and Removed Features

* The cbbackup, cbrestore, and cbbackupwrapper utilities are deprecated in this release.

[#known-issues-660]
=== Known Issues

This section highlights some of the known issues in this release. 

==== Analytics Service

[#table_knownissues_v660-analytics,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-3xxxx[MB-3xxxx^]
| *Summary:* When using alternate addresses for remote links, at least one node in the remote cluster must have the management[SSL] port exposed, and ALL data(KV) nodes have the kv[SSL] port exposed. Failure to do so will result in a 400 (Bad Request) when creating or altering a link. 
|===

==== Cluster Manager

[#table_knownissues_v660-cluster-manager,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

==== Data Service

[#table_knownissues_v660-data,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

==== Eventing Service

[#table_knownissues_v660-eventing,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

==== Index Service and Views

[#table_knownissues_v660-gsi-views,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

==== Install and Upgrade

[#table_knownissues_v660-install-upgrade,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

==== Index Service and Views

[#table_knownissues_v660-gsi-views,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: Prior to 6.6, the recommendation was to set the default_analyzer at the top level of the index mapping as opposed to at the index mapping level. However, when using a flex index (introduced in version 6.6), the flex query returns 0 results. 

You must re-build the index for the tokens to be re-generated using the correct analyzer. 
|===

==== Tools, Web Console (UI), and REST API

[#table_knownissues_v660-tools-ui-rest-api,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD

*Workaround:* .
|===

[#fixed-issues-660]
=== Fixed Issues

This section highlights some of the issues fixed in this release. 

==== Analytics Service

[#table_fixedissues_v660-analytics,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD
|===

==== Cluster Manager

[#table_fixedissues_v660-cluster-manager,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD
|===

==== Eventing Service

[#table_fixedissues_v660-eventing,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-28734[MB-28734^]
| *Summary*: Eventing timers can now be cancelled using cancelTimer() function, or by creating a new timer with same reference as an existing timer. In addition, a function that is invoked by a timer callback can create fresh timers.
|===

==== Index Service and Views

[#table_fixedissues_v660-gsi-views,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-3xxxx[MB-3xxxx^]
| *Summary*: .
|===

==== Install and Upgrade

[#table_fixedissues_v660-install-upgrade,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-2xxxx[MB-2xxxx^]
| *Summary*: TBD. 
|===

==== Search Service

[#table_fixedissues_v660-search,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-39592[MB-39592^]
| *Summary*: To ensure consistent results with covering and non-covering index queries, we mandate a keyword analyzer for queries that don't use an analyzer.

| https://issues.couchbase.com/browse/MB-38957[MB-38957^]
| *Summary*: Fixed an issue where the document mapping's analyzer was not inherited by child fields.

| https://issues.couchbase.com/browse/MB-2xxxx[MB-2xxxx^]
| *Summary*: 
|===

==== Tools, Web Console (UI), and REST API

[#table_fixedissues_v660-tools-ui-rest-api,cols="25,66"]
|===
| Issue | Description

| https://issues.couchbase.com/browse/MB-39220[MB-39220^]
| *Summary*: The `couchbase-cli failover` has been updated to perform a hard failover without passing the unsafe flag.

| https://issues.couchbase.com/browse/MB-xxxxx[MB-3xxxx^]
| *Summary*: TBD
|===

== Release Notes for Older 6.x Versions

* xref:6.5@relnotes.adoc[Release 6.5]
* xref:6.0@relnotes.adoc[Release 6.0]
