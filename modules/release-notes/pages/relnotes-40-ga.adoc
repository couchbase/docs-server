[#topic_gym_zx1_2t]
= Release notes for version 4.0

== Supported platforms

Couchbase Server 4.0 GA is available on various Linux systems, Mac OS, and Windows.
We have added support for the following platforms: RHEL 7, Ubuntu 14.04, OS X 10.9 and 10.10, and Oracle Enterprise Linux 6.
For the complete list of platforms supported by Couchbase Server, see xref:install:install-platforms.adoc[Supported Platforms].

== Behavioral changes

The following changes in behavior are associated with Couchbase Server 4.0 GA release:

*Ports that need to be open on firewalls*

There are several new network ports that need to be open on firewalls when upgrading from an earlier version of Couchbase Server.
These ports are 8093, and ports in the range of 91xx to 99xx.
For a complete list of network ports used by Couchbase Server, see xref:install:install-ports.adoc[Network Configuration].

== Fixed issues

The following issues are fixed in Couchbase Server 4.0 GA release:

[#table_n1b_rv1_2t,cols="50,217"]
|===
| *Issue*
| *Description*

| http://www.couchbase.com/issues/browse/MB-15274[MB-15274]
| The View update was stuck after a server reboot.

| http://www.couchbase.com/issues/browse/MB-15049[MB-15049]
| With large reduce values, the number of intermediate nodes in the view index b-tree was not reduced and tree building did not finish.

| http://www.couchbase.com/issues/browse/MB-14401[MB-14401]
| A spatial view could not be built when the input geometry was huge.

| http://www.couchbase.com/issues/browse/MB-14290[MB-14290]
| When multiple threads tried to increment the value of a non-existing item, a ‘[.output]`NotStoredError`’ occurred instead of an atomic increment.

| http://www.couchbase.com/issues/browse/MB-14068[MB-14068]
| Partition versions contained duplicates.

| http://www.couchbase.com/issues/browse/MB-13837[MB-13837]
| Changing bucket parameters in REST caused the bucket password to be lost.

| http://www.couchbase.com/issues/browse/MB-13167[MB-13167]
| Rebalance operation failed if bucket replication was in mixed DCP/TAP state.

| http://www.couchbase.com/issues/browse/MB-13160[MB-13160]
| Views emitting only one field of a document resulted in multiple rows with different values.

| http://www.couchbase.com/issues/browse/MB-13066[MB-13066]
| When executing a delete operation with a bad CAS value, an error was returned and memory was not freed.

| http://www.couchbase.com/issues/browse/MB-12763[MB-12763]
| A large body length value caused moxi to restart.

| http://www.couchbase.com/issues/browse/MB-12447[MB-12447]
| Fixed memcached memory leak when memcached uses ItemAllocate API.

| http://www.couchbase.com/issues/browse/MB-12270[MB-12270]
| The backup operation failed with an error if one or more files were being compacted at the same time.

| http://www.couchbase.com/issues/browse/MB-12144[MB-12144]
| The REST API did not return a fixed number of stat entries.

| http://www.couchbase.com/issues/browse/MB-11917[MB-11917]
| One node was slow due to an issue in the Erlang R16 scheduler.
|===

== Deprecated items

For information about the items deprecated in the 4.0 release, see xref:deprecated.adoc[Deprecated items].
