
:erlang-7-2-4-note: The Erlang upgrade requires that users have installed Couchbase Server{nbsp}7.1.0 or later, before upgrading to 7.2.4.

[#release-725]
== Release 7.2.5 (April 2024)

Couchbase Server 7.2.5 was released in April 2024. 
This maintenance release contains new features and fixes.

[#new-features]
=== New Features and Enhancements

==== Index Manager

[#table-new-features-724-cluster-manager, cols="10,40"]
|===
|Feature | Description

| https://issues.couchbase.com/browse/MB-61310[MB-61310]
a| During rebalance, Couchbase Server tracks its progress in moving active index partitions by comparing the sequence number of partitions it has moved to the sequence numbers in a view on the original node.
It did not use this technique to track the progress of copying replica partitions.

This change adds an argument ot the `api/managerOptions` REST API call named `enableReplicaCatchupOnRebalance`. 
If you set this argument to `true`, Couchbase Server tracks the progress of replica partitions the same way it tracks active partitions.
Enabling this option adds some overhead to the rebalance process.

|===


=== Fixed Issues

==== Index Service

[#table-fixed-issues-725-index-service, cols="10,40,40"]
|===
|Issue | Description | Resolution

| https://issues.couchbase.com/browse/MB-60972[MB-60972]
| Previously, an index scan would continue reading data until it had returned at least one row of data, even if it had been cancelled or had timed out.
These continued reads resulted in wasted CPU resources and potentially blocking other scans from starting.

| Couchbase Server now stops an index scan from reading data after it has timed out or a client cancels it even if it has not produced a row of data.

| https://issues.couchbase.com/browse/MB-61043[MB-61043]
| A rebalance followed by a failover could result in partitions not being evenly distributed across all nodes by a later rebalance.
| The rebalance process now detects the partition skew and fixes it.

| https://issues.couchbase.com/browse/MB-61435[MB-61435]
| An optimization that skips key-value lookups in some cases when inserting new keys could be incorrectly enabled for all indexes in buckets containing empty indexes.
This issue could result in duplicate rows being added to indexes.
| The optimization is not longer incorrectly applied to indexes and duplicate rows are no longer added to indexes.

|===










