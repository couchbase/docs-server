= Couchbase Server Processes

[abstract]
Couchbase Server spawns a number of different processes on each node.
These processes vary in type and number depending on which Couchbase services are running on a particular node.

Couchbase Server spawns processes from a set of binaries that get installed by the Couchbase installer.
Some of these processes support the basic functions of Couchbase Server, and run on every node in the Couchbase cluster.
Other processes, however, support the various Couchbase services, and only run on the nodes that happen to run a particular Couchbase service (Data, Query, Index, Search, Analytics, and Eventing).

It's important that each of these processes is allowed to run and access files.
Depending on your security environment, you may need to incorporate these processes and their respective binaries into your security policy.

== Linux

The following table lists the Couchbase processes that run on Linux platforms.

.Couchbase processes on Linux
[#table-processes-linux,cols="1,2,1,2",options="header"]
|===

| Process | Description | Service | Path

| `cbft`
| Couchbase Full-Text Search (FTS) service
| Search
| _/opt/couchbase/bin/_

| `cbq-engine`
| Couchbase Query service
| Query / Tools
| _/opt/couchbase/bin/_

| `goport` (5 copies)
| Process that acts as a bridge between `ns_server` (Erlang) and the other server components (`cbq- engine`, `cbft`, etc.) which are written in Go
| Query / Tools
a| _/opt/couchbase/bin/_

| `gosecrets`
| Service that is used to encrypt the cluster configuration stored on disk
| Data
| _/opt/couchbase/bin/_

| `goxdcr`
| Cross Data Center Replication (XDCR) - replicates data from one cluster to another
| Data
| _/opt/couchbase/bin/_

| `indexer`
| Indexer service
| Data
| _/opt/couchbase/bin/_

| `memcached`
| Data service responsible for storing user data
| Data
| _/opt/couchbase/bin/_

| `godu` (2 copies)
| Utility in Go to get disk usage stats
| Data
| _/opt/couchbase/bin/priv/_

| `projector`
| Extracts secondary key from documents
| Data
| _/opt/couchbase/bin/_

| `saslauthd-port`
| Erlang port process (wrapper) used to talk to the `saslauthd` daemon for authentication purposes
| Data
| _/opt/couchbase/bin/_

| `beam.smp` (4 copies)
| Couchbase cluster manager run as Erlang virtual machines - `babysitter`, `ns_server`, `ns_couchdb`, and `ns_ssl_proxy`
| Data
| _/opt/couchbase/lib/erlang/erts-5.10.4.0.0.1/bin/_

| `epmd`
| Erlang-specific process which acts as a name server for Erlang distribution
| Data
| _/opt/couchbase/bin/_

| `cpu_sup` (2 copies)
| Erlang-specific process used to collect CPU: 1 for `ns_server` VM and 1 for `ns_couchdb` VM
| Data
| _/opt/couchbase/lib/erlang/lib/os_mon-2.2.14/priv/bin/_

| `memsup` (2 copies)
| Erlang-specific process used to collect memory usage: 1 for `ns_server` VM and 1 for `ns_couchdb` VM
| Data
| _/opt/couchbase/lib/erlang/lib/os_mon-2.2.14/priv/bin/_

| `inet_gethost` (2 copies)
| Built-in Erlang port process that is used to perform name service lookup
| Data
| _/opt/couchbase/lib/erlang/erts-5.10.4.0.0.1/bin/_

| `portsigar`
| Open source tool sigar that is used to collect system information
| Data
| _/opt/couchbase/bin/_

| `sh -s disksup` (2 copies)
| Erlang-specific process that is used to supervise the available disk space: 1 for `ns_server` VM and 1 for `ns_couchdb` VM
| Data
| _/opt/couchbase/lib/erlang/lib/os_mon-2.2.14/ebin/_

| `sh -s ns_disksup`
| Wrapper for `disksup` which also collects information about mounted drives
| Data
| _/opt/couchbase/lib/ns_server/erlang/lib/ns_server/ebin/_

| `cbcollect_info`
| Utility used to collect Couchbase server logs (will be seen only during log collection)
| Data
| _/opt/couchbase/bin/_

| `eventing-producer` (1 copy)
| Eventing supervisor service (one instance per node)
| Eventing
| _/opt/couchbase/bin/_

| `eventing-consumer` (n copies)
| Eventing worker (multiple instances per node).
Instance count is configured in UI.
| Eventing
| _/opt/couchbase/bin/_

| `java` (Analytics Driver)
| JVM running the Analytics NC and CC
| Analytics
| _/opt/couchbase/lib/cbas/runtime/bin_

| `cbas`
| Go-wrapper that communicates with `ns_server` and manages the lifecycle of the Analytics Driver
| Analytics
| _/opt/couchbase/bin/_
|===
