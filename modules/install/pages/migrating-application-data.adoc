= Migrating
:description: With the introduction of scopes and collections, you can plan for a simpler mapping from RDBMS and consolidate hundreds of microservices and/or tenants in a single Couchbase cluster, resulting in much lower operational cost.

[abstract]
{description}


This topic provides guidelines to help migrate your data from a bucket-based model (pre-7.0) to the collections-based model using scopes and collections in Couchbase Server 7.0. 

To learn more about scopes and collections, refer to the xref:learn:data/scopes-and-collections.adoc[Learn] section in the documentation.

While the exact steps to migrate will depend on your use case and requirements, following are the high level steps that will be explained in subsequent sections.

. Plan your collections strategy
.. What buckets, scopes, collections and indexes you will have
.. Determine mapping from old bucket(s) to new bucket(s)/scope(s)/collections
.. Scripts to create scopes, collections and indexes
. Migrate your application code
.. SDK code including N1QL queries
. Data migration
.. Determine if offline strategy works or online migration is necessary
.. Follow steps for offline or online migration
. Plan and implement your security strategy
.. What Users and Role assignments will you need?
.. Create scripts to manage these assignments
. Go live with your new collections-aware application
. Setup XDCR and setup backup 


== Pre-requisite: Upgrade to Couchbase Server version 7.0 

Ensure that you upgrade your cluster to Couchbase Server 7.0. For information about the upgrade process and procedures, see xref:upgrade.adoc[Upgrading Couchbase Server]. 

Every bucket in Couchbase Server 7.0+ has a `_default` scope with a `_default` collection in it.  
When you upgrading to version 7.0, all data in the bucket is moved to the `_default` collection of the bucket. There will be no impact to existing applications, for example, any references to bucket B will automatically resolve to `B._default._default`.


