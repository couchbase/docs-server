
// This file is created automatically by Swagger2Markup.
// DO NOT EDIT!


[[_paths]]
== Paths

[[_get_node_stats]]
=== Get Statistics for an Index Node
....
GET /api/v1/stats
....


==== Description
Returns statistics for an index node, and for all indexes on that node.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a,.^2a"]
|===
|Type|Name|Description|Schema|Default
|**Query**|**pretty** +
__optional__|Whether the output should be formatted with indentations and newlines.|boolean|`"false"`
|**Query**|**skipEmpty** +
__optional__|Whether empty, null, or zero statistics should be omitted from the output.|boolean|`"false"`
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|Success.
Returns an object containing a nested `indexer` object, and usually one or more nested `__keyspace:index__` objects -- one for each index found on the specified node.|<<_node_and_indexes,Node and Indexes>>
|===

[[_node_and_indexes]]
**Node and Indexes**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**indexer** +
__required__|A nested object containing statistics for the current index node.|<<_node,Node>>
|**__keyspace:index__** +
__optional__|A nested object containing statistics for an entire index.

* `__keyspace__` is the name of the keyspace.
* `__index__` is the name of the index.|<<_index,Index>>
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Return statistics for an index node, omit empty results, and format the output.

.Curl request
[source,shell]
----
$ curl -X GET -u Administrator:password "http://localhost:9102/api/v1/stats?skipEmpty=true&pretty=true"
----
====


==== Example HTTP response

====

.Response 200
[source,json]
----
{
   "indexer": {
      "indexer_state": "Active",
      "memory_quota": 536870912,
      "memory_total_storage": 6004736,
      "memory_used": 193040384
   },
   "travel-sample:over1000": {
      "cache_hit_percent": 100,
      "cache_hits": 331,
      "data_size": 17126,
      "disk_size": 1131828,
      "initial_build_progress": 100,
      "items_count": 331,
      "num_docs_indexed": 331,
      "num_items_flushed": 331,
      "recs_in_mem": 331,
      "resident_percent": 100
   }
}
----
====


[[_get_index_stats]]
=== Get Statistics for an Index
....
GET /api/v1/stats/{keyspace}/{index}
....


==== Description
Returns statistics for an index.


[[_get_index_stats_parameters]]


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a,.^2a"]
|===
|Type|Name|Description|Schema|Default
|**Path**|**keyspace** +
__required__|The name of a keyspace.|string|
|**Path**|**index** +
__required__|The name of an index.|string|
|**Query**|**pretty** +
__optional__|Whether the output should be formatted with indentations and newlines.|boolean|`"false"`
|**Query**|**partition** +
__optional__|Whether statistics for index partitions should be included.|boolean|`"false"`
|**Query**|**skipEmpty** +
__optional__|Whether empty, null, or zero statistics should be omitted from the output.|boolean|`"false"`
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|Success.
Returns an object containing one nested `__keyspace:index__` object.

If the <<_get_index_stats_parameters,partition>> query parameter was set to `true`, the returned object also contains one or more `Partition-__num__` objects -- one for each index partition found on the specified node.|<<_index_and_partitions,Index and Partitions>>
|**404**|Not found.
Returns the path with the specified keyspace and index name.

The keyspace name may be incorrect, the index may not be located on the specified node, or the index may be warming up after a restart.|string
|===

[[_index_and_partitions]]
**Index and Partitions**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**__keyspace:index__** +
__required__|A nested object containing statistics for an entire index.

* `__keyspace__` is the name of the keyspace.
* `__index__` is the name of the index.|<<_index,Index>>
|**Partition-__num__** +
__optional__|A nested object containing statistics.

* If the index is partitioned, this object contains statistics for one index partition, where `__num__` is the partition number.
* If the index is not partitioned, this object contains statistics for the entire index, and `__num__` is `0`.|<<_index,Index>>
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Return statistics for an index, include partitions, omit empty results, and format the output.

.Curl request
[source,shell]
----
$ curl -X GET -u Administrator:password "http://localhost:9102/api/v1/stats/travel-sample/over1000?partition=true&skipEmpty=true&pretty=true"
----
====


==== Example HTTP response

====

.Response 200
[source,json]
----
{
   "Partition-1": {
      "data_size": 3204,
      "disk_size": 647394,
      "items_count": 62,
      "recs_on_disk": 62
   },
   "Partition-2": {
      "data_size": 3004,
      "disk_size": 647394,
      "items_count": 58,
      "recs_on_disk": 58
   },
   "travel-sample:over1000": {
      "data_size": 6208,
      "disk_size": 1294788,
      "initial_build_progress": 100,
      "items_count": 120,
      "recs_on_disk": 120
   }
}
----
====



