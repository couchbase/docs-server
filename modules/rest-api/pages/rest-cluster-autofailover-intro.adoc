[#rest-cluster-autofailover]
= Managing Auto-Failover

[abstract]
Auto-failover is managed by means of the the `GET /settings/autoFailover` HTTP method and URI.

== Description

This section provides information about retrieving, enabling, disabling, and resetting auto-failover.

.Auto-Failover Endpoints
[cols="4,13,36"]
|===
| HTTP method | URI path | Description

| GET
| [.path]_/settings/autoFailover_
a|
Retrieves automatic-failover settings.
Uses the following parameters:

* `enabled=[true|false]`.
Enables or disables automatic failover.
* `timeout=`_number-of-seconds_.
Integer between 5 and 3600.
Specifies the number of seconds that must elapse after a node has become unavailable, before automatic failover is triggered.
* `count=[0|1]`.
Determines whether any node in a cluster can be automatically failed-over.
After one auto-failover occurs, the count is set to 1, and Couchbase Server does not perform another auto-failover for the cluster until the count is reset to 0.
Note that to fail over more than one node at a time, a _manual_ failover is required.

| POST
| [.path]_/settings/autoFailover_
a|
Enables and disables automatic failover.
Uses the following paramenters:

* `enabled=[true|false]`.
Enables or disables automatic failover.
* `timeout=`_number-of-seconds_.
Integer between 5 and 3600.
Specifies the number of seconds that must elapse after a node has become unavailable, before automatic failover is triggered.
* `failoverServerGroup=[true|false]&maxCount=`_number-of-seconds_.
Enables or disables automatic failover for server groups, and specifies the number of seconds that must elapse after a node has become unavailable, before automatic failover is triggered.
Do not enable failover for server groups unless you have set up three of more server groups, and have the capacity to absorb the load of any failed-over group.
* `failoverOnDataDiskIssues[enabled]=[true|false]&failoverOnDataDiskIssues[timePeriod]=`_number-of-seconds_.
Integer between 5 and 3600.
Enables or disables automatic failover for any sustained disk read/write failure, after the specied time-period has elapsed

| POST
| [.path]_/settings/autoFailover/resetCount_
| Resets automatic failover count to 0.
|===
