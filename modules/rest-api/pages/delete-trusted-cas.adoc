= Delete Trusted CA Certificates
:description: Trusted CA (or 'root') certificates previously loaded into the Couchbase-Server cluster can be deleted.
:page-topic-type: reference

[abstract]
{description}

[#http-method-and-uri]
== Http Methods and URIs

----
DELETE /pools/default/trustedCAs/<id>
----

[#description]
== Description

Removes from the list of trusted CA certificates for the cluster the certificate with the specified id.
Removal fails if there is on the cluster at least one node certificate that is directly or indirectly (that is, by means of one or more intermediate certificates) signed by the specified certificate.
The id can be rerieved by means of the `GET /node/controller/trustedCAs` Http method and URI: see xref:rest-api:get-trusted-cas.adoc[Get Trusted CA Certificates].

Note that this API _cannot_ be used on clusters that are running in _mixed mode_ (which is to say, different nodes are running different versions of Couchbase Server).
Therefore, before this API can be used, all nodes must be running the same version of Couchbase Server, which must be at least 7.1.

[#curl-syntax]
== Curl Syntax

The curl syntax is as follows:

----
curl -X DELETE http://<ip-address-or-domain-name>:8091/pools/default/trustedCAs/<id>
 -u <username>:<password>
----

The `id` must be an integer that is the id of the certificate that is to be deleted: this can be retrieved as the value of the `id` key, in the array returned by `GET /node/controller/trustedCAs`.
See xref:rest-api:get-trusted-cas.adoc[Get Trusted CA Certificates].

[#responses]
== Responses

Success returns `200 OK`.
If no certificates corresponding to the specified id can be found, the message `Not found` is returned..

Failure to authenticate returns `HTTP/1.1 401 Unauthorized`.
A malformed URI returns `HTTP/1.1 404 Object Not Found`.
An incorrect method returns `HTTP/1.1 405 Method Not Allowed`.

== Example

The following call removes the certificate whose id is `3` from the list of trusted CA certificates for the cluster:

----
curl -X DELETE http://10.144.220.101:8091/pools/default/trustedCAs/3 -u Administrator:password
----

== See Also
