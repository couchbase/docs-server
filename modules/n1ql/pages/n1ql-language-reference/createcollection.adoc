= CREATE COLLECTION
:page-topic-type: concept
:page-status: Couchbase Server 7.0
:imagesdir: ../../assets/images
:page-partial:

[abstract]
The `CREATE COLLECTION` statement enables you to create a named collection within a scope.

== Syntax

[subs="normal"]
----
create-collection ::= CREATE COLLECTION [ [ _namespace_ ':' ] _bucket_ '.' _scope_ '.' ] _collection_
----

image::n1ql-language-reference/create-collection.png["'CREATE' 'COLLECTION' ( ( namespace ':' )? bucket '.' scope '.' )? collection"]

namespace::
(Optional) An xref:n1ql-language-reference/identifiers.adoc[identifier] that refers to the xref:n1ql-intro/sysinfo.adoc#logical-hierarchy[namespace] of the bucket in which you want to create the collection.
Currently, only the `default` namespace is available.
If the namespace name is omitted, the default namespace in the current session is used.

bucket::
(Optional) An xref:n1ql-language-reference/identifiers.adoc[identifier] that refers to the bucket in which you want to create the collection.

scope::
(Optional) An xref:n1ql-language-reference/identifiers.adoc[identifier] that refers to the scope in which you want to create the collection.

collection::
(Required) An xref:n1ql-language-reference/identifiers.adoc[identifier] that refers to the name of the collection that you want to create.
Refer to xref:learn:data/scopes-and-collections.adoc#naming-for-scopes-and-collection[Naming for Scopes and Collections] for restrictions on collection names.

NOTE: If there is a hyphen (-) inside the bucket name, the scope name, or the collection name, you must wrap that part of the path in backticks ({backtick} {backtick}).
For example, `default:{backtick}travel-sample{backtick}` indicates the `travel-sample` keyspace in the `default` namespace.

== Usage

To specify the collection, you may do one of the following:

* Include its [def]_full path_, containing the namespace, bucket, and scope, followed by the collection name;
* Include a [def]_relative path_, containing just the bucket and scope, followed by the connection name;
* Specify just the collection name without a path.

When you specify a collection name without a path, you must set the xref:n1ql:n1ql-intro/sysinfo.adoc#query-context[query context] to indicate the required namespace, bucket, and scope.
If you specify a collection name by itself without setting a valid query context, an error is generated.

It is important to note that the scope must exist before you can create the collection, whether the scope is specified in the statement itself or implied by the query context.
If the scope does not exist, an error is generated.
You cannot create the scope and the collection in a single statement.

== Examples

.Create collection with full path
====
This statement creates a collection called `cities` in the `places` scope within the `travel-sample` bucket.
It is assumed that the `places` scope already exists.

[source,n1ql]
----
CREATE SCOPE `travel-sample`.places.cities
----
====

.Create collection with query context
====
This statement creates a collection called `countries` in the `places` scope within the `travel-sample` bucket.
It is assumed that the `places` scope already exists.

This example uses the cbq shell, but you can also set the query context and create the collection using the Query Workbench.

.Set the query context
[source,shell]
----
cbq> \SET -query_context "travel-sample.places";
----

.Create the collection
[source,shell]
----
cbq> CREATE COLLECTION countries;
----
====

== Related Links

* An overview of scopes and collections is provided in xref:learn:data/scopes-and-collections.adoc[Scopes and Collections].

* Step-by-step procedures for management are provided in xref:manage:manage-scopes-and-collections/manage-scopes-and-collections.adoc[Manage Scopes and Collections].

* Refer to xref:rest-api:scopes-and-collections-api.adoc[Scopes and Collections API] to manage scopes and collections with the REST API.

* Refer to the reference page for the xref:cli:cbcli/couchbase-cli-collection-manage.adoc[collection-manage] command to manage scopes and collections with the CLI.