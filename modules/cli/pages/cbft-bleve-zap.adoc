= cbft-bleve for Zap Files
:page-topic-type: reference

[abstract]
The `cbft-bleve` tool supports commands that return information on _Zap_ files.

Each _Scorch_-index partition maintained by the _Search Service_ is represented by a _Zap_ file, which is located in the `store` sub-directory for the partition (see xref:cli:cbft-bleve.adoc#specifying-index-partitions[Specifying Index Partitions]).
Information can be retrieved from the Zap file, by means of the `zap` command.
The basic syntax is as follows:

----
cbft-bleve zap [command] [flags]
----

The possible value of `command` are listed in the sections below.
The value of `flags` can be `--help`, which prints help text to standard output.

== dict

The `dict` command prints the _term dictionary_ for a specified field of a specified index partition.
The syntax is as follows:

----
cbft-bleve zap dict [zap-file-path] [field] [flags]
----

The `field` argument is mandatory.

=== Example: Print the Term Dictionary

The following command prints the term dictionary for a specified index partition, and specifies the field `_id`:

----
/opt/couchbase/bin/cbft-bleve zap dict \
/Library/Application\ Support/Couchbase/var/lib/couchbase/\
data/@fts/demoIndex_1125629e41599ad8_92af29e5.pindex/store/\
000000000025.zap _id
----

If successful, the command returns output the initial lines of which are as follows:

----
2020/01/20 23:04:58 cbauth: key: fts/remoteClients registered for tls config updates
dictionary for field starts at 126674 (1eed2)
vellum length: 38115
raw vellum data:
 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 10 9c d6 00 10 9e e4 7b 05 b8 05 00 00 01 05 37 31 12 42 00 10 95 e3 16 10 94 00 10 a5 00 10 96 8d 0b 1f 04 00 00 01 1b 04 37 34 33 12 03 12
----

== docvalues

The `docvalues` command returns document values in order of field, and by number.
The syntax is as follows:

----
cbft-bleve zap docvalue [path] <field> <docNum> [flags] [flags]
----

The `field` and `docNum` arguments are optional, and represent a field-name and a document-number, respectively.

=== Example: Return Document Values

The following example returns document values from a specific index partition, with the field-name `_id` specified:

----
/opt/couchbase/bin/cbft-bleve zap docvalue \
/vmhost_home/Library/Application\ Support/Couchbase/var/lib/couchbase/data/@fts/\
demoIndex_1125629e41599ad8_92af29e5.pindex/store/000000000025.zap _id
----

If successful, the command returns the following:

----
2020/01/20 23:31:36 cbauth: key: fts/remoteClients registered for tls config updates
Total Doc Values Size on Disk: 0.000000 MB
FieldID: 0 '_id' docvalue at 18446744073709551615 (ffffffffffffffff) numChunks 0  diskSize 0.000000 MB
Number of docvalue chunks: 0
----
