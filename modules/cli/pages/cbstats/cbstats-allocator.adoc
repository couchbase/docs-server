= allocator
:page-topic-type: reference

[abstract]
Provides information on memory management.

== Syntax

Request syntax:

----
cbstats [host]:11210 allocator
----

== Description

This command is used to collect information on memory management.

== Options

None

== Examples

Example request:

----
cbstats 10.5.2.54:11210 allocator
----

*Response:*

----
___ Begin jemalloc statistics ___
Version: 4.1.1-3-g6ddfb081019d2c0b8da89f385a565067756d2b2d
Assertions disabled
config.malloc_conf: ""
Run-time option settings:
  opt.abort: false
  opt.lg_chunk: 21
  opt.dss: "secondary"
  opt.narenas: 1
  opt.purge: "ratio"
  opt.lg_dirty_mult: 3 (arenas.lg_dirty_mult: 3)
  opt.stats_print: false
  opt.junk: "false"
  opt.quarantine: 0
  opt.redzone: false
  opt.zero: false
  opt.tcache: true
  opt.lg_tcache_max: 15
CPUs: 1
Arenas: 1
Pointer size: 8
Quantum size: 16
Page size: 4096
Min active:dirty page ratio per arena: 8:1
Maximum thread-cached size class: 32768
Chunk size: 2097152 (2^21)
Allocated: 108605816, active: 109281280, metadata: 3805992, resident: 112537600, mapped: 115343360
Current active ceiling: 111149056

Merged arenas stats:
assigned threads: 21
dss allocation precedence: N/A
min active:dirty page ratio: N/A
purging: dirty: 16, sweeps: 24, madvises: 133, purged: 618
                            allocated      nmalloc      ndalloc    nrequests
small:                       23593336       219499        68715      1835867
large:                       59846656         2215          121         2248
huge:                        25165824            3            0            3
total:                      108605816       221717        68836      1838118
active:                     109281280
mapped:                     113246208
metadata: mapped: 2064384, allocated: 618792
bins:           size ind    allocated      nmalloc      ndalloc    nrequests      curregs      curruns regs pgs  util       nfills     nflushes      newruns       reruns
                   8   0        10184         7365         6092       213748         1273            5  512   1 0.497          129          154            5           32
                  16   1        22032         4595         3218       108732         1377            7  256   1 0.768          199          127            7           51
                  32   2      1243200        43303         4453       293378        38850          308  128   1 0.985         2395          164          314          128
                  48   3       894720        24774         6134       161029        18640           76  256   3 0.958          308          147           78           61
                  64   4      1521216        35561        11792       481174        23769          374   64   1 0.993          609          262          505          330
                  80   5      1997920        29232         4258        69071        24974           98  256   5 0.995          471          156          101          174
                  96   6      1294752        16251         2764       106620        13487          107  128   3 0.984          185          104          108          153
                 112   7       699552         8430         2184         7955         6246           26  256   7 0.938          135           99           26            8
                 128   8        52736        17361        16949        43962          412           17   32   1 0.757         1111          604          473          204
                 160   9       123360         3778         3007        14084          771           10  128   5 0.602           67          119           12           63
                 192  10       280704         3416         1954        35348         1462           25   64   3 0.913           75           96           26          108
                 224  11       181216         3038         2229        21029          809            7  128   7 0.902           49           82           24           31
                 256  12      1079552         4637          420        16395         4217          264   16   1 0.998          391           86          274           40
                 320  13       517440         2216          599        13713         1617           28   64   5 0.902           66           59           30           10
                 384  14       362112         1080          137         3548          943           30   32   3 0.982           46           34           31            4
                 448  15       231168          936          420         2393          516            9   64   7 0.895           38           58           12            8
                 512  16      2586112         5306          255        19405         5051          632    8   1 0.999          836           85          639          132
                 640  17       424960         1088          424       188304          664           24   32   5 0.864           72           63           27           25
                 768  18       254208          460          129         2168          331           23   16   3 0.899           42           46           24           11
                 896  19       278656          562          251         1215          311           11   32   7 0.883           37           58           15           12
                1024  20       163840          421          261          682          160           40    4   1 1               79           93          100           42
                1280  21      2901760         2352           85         2617         2267          142   16   5 0.997          155           34          142            9
                1536  22       271872          201           24          272          177           23    8   3 0.961           25           33           24           12
                1792  23        80640           92           47           47           45            4   16   7 0.703            8           34            5            5
                2048  24      4378624         2403          265         2900         2138         1069    2   1 1              349           80         1180           63
                2560  25        87040           62           28            9           34            6    8   5 0.708            7           33            8            4
                3072  26        46080           40           25            5           15            4    4   3 0.937            4           31            9            3
                3584  27        71680           40           20            2           20            3    8   7 0.833            4           30            5            2
                4096  28       143360          106           71           90           35           35    1   1 1               27           50          106            0
                5120  29        71680           30           16            4           14            4    4   5 0.875            3           30            8            1
                6144  30       104448           49           32           17           17            9    2   3 0.944           16           44           25            1
                7168  31        71680           10            0            0           10            3    4   7 0.833            1           26            3            0
                8192  32       909312          212          101          150          111          111    1   2 1               53           59          212            0
               10240  33       112640           82           71        25801           11            6    2   5 0.916           18           44           38           10
               12288  34       122880           10            0            0           10           10    1   3 1                1           26           10            0
                     ---
large:          size ind    allocated      nmalloc      ndalloc    nrequests      curruns
               16384  36       311296           37           18           51           19
                     ---
               28672  39     59322368         2095           26         2095         2069
               32768  40       131072           31           27           50            4
               40960  41        81920            2            0            2            2
                     ---
               65536  44            0           50           50           50            0
                     ---
huge:           size ind    allocated      nmalloc      ndalloc    nrequests   curhchunks
             2097152  64      4194304            2            0            2            2
                     ---
            20971520  77     20971520            1            0            1            1
                     ---
--- End jemalloc statistics ---
----
