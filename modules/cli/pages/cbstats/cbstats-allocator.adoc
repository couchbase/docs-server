= allocator
:page-topic-type: reference

[abstract]
Provides information on memory management.

== Syntax

Request syntax:

----
cbstats [host]:11210 allocator
----

== Description

This command is used to collect information on memory management.

== Options

None

== Examples

Example request:

----
cbstats 10.5.2.54:11210 allocator
----

*Response:*

----
___ Begin jemalloc statistics ___
Version: 4.5.0-3-g17c897976c60b0e6e4f4a365c751027244dada7a
Assertions disabled
config.malloc_conf: ""
Run-time option settings:
  opt.abort: false
  opt.lg_chunk: 21
  opt.dss: "secondary"
  opt.narenas: 1
  opt.purge: "ratio"
  opt.lg_dirty_mult: 3 (arenas.lg_dirty_mult: 3)
  opt.junk: "false"
  opt.quarantine: 0
  opt.redzone: false
  opt.zero: false
  opt.tcache: true
  opt.lg_tcache_max: 15
  opt.thp: true
  opt.prof: true
  opt.prof_prefix: "jeprof"
  opt.prof_active: false (prof.active: false)
  opt.prof_thread_active_init: true (prof.thread_active_init: true)
  opt.lg_prof_sample: 19 (prof.lg_sample: 19)
  opt.prof_accum: false
  opt.lg_prof_interval: -1
  opt.prof_gdump: false
  opt.prof_final: false
  opt.prof_leak: false
  opt.stats_print: false
Arenas: 1
Min active:dirty page ratio per arena: 8:1
Quantum size: 16
Page size: 4096
Maximum thread-cached size class: 32768
Allocated: 56996512, active: 59564032, metadata: 2598600, resident: 61427712, mapped: 73400320, retained: 16777216
Current active ceiling: 60817408

Merged arenas stats:
assigned threads: 25
dss allocation precedence: N/A
min active:dirty page ratio: N/A
purging: dirty: 0, sweeps: 81, madvises: 241, purged: 14710
                            allocated      nmalloc      ndalloc    nrequests
small:                       30286496       581728       467035      3326573
large:                        1544192         6642         6594        23134
huge:                        25165824           11            8           11
total:                       56996512       588381       473637      3349718
active:                      59564032
mapped:                      71303168
retained:                    16777216
metadata: mapped: 1171456, allocated: 735560
bins:           size ind    allocated      nmalloc      ndalloc    nrequests      curregs      curruns regs pgs  util       nfills     nflushes      newruns       reruns
                   8   0        24672        10092         7008        38359         3084            8  512   1 0.752          238          266            9           63
                  16   1        47744        12676         9692        62363         2984           15  256   1 0.777          595          324           17          284
                  32   2      1188320       147630       110495       766444        37135          328  128   1 0.884         5246         1369          892         2966
                  48   3       705456       172972       158275       596564        14697          111  256   3 0.517         9938         1817          423         2586
                  64   4       629056        26997        17168       812539         9829          169   64   1 0.908          792          524          272         1169
                  80   5       449360        40140        34523       252069         5617           56  256   5 0.391         1982          580           58         1430
                  96   6      1339296        25663        11712       259010        13951          122  128   3 0.893         1836          377          128         1449
                 112   7       450688        37464        33440        50901         4024           24  256   7 0.654         2287          546          132          240
                 128   8        83328        16118        15467        27279          651           26   32   1 0.782         1840          683          466          214
                 160   9       197760        42435        41199        55166         1236           10  128   5 0.965         2918          613          318          136
                 192  10       270720        12498        11088        18876         1410           23   64   3 0.957          960          300          166         1232
                 224  11       114240         2164         1654        23866          510            6  128   7 0.664           46          111            9          262
                 256  12      1069568         9373         5195        32181         4178          289   16   1 0.903          810          373          340         2204
                 320  13       392320         4044         2818        16116         1226           20   64   5 0.957          100          189           36         1013
                 384  14       737280         3102         1182        21760         1920           61   32   3 0.983          113           95           62          766
                 448  15      1123136         3418          911        11377         2507           40   64   7 0.979           87           83           42          312
                 512  16      2436608         5645          886        60043         4759          597    8   1 0.996          660          236          600          769
                 640  17       378240         1771         1180       193228          591           19   32   5 0.972           86          118           28          500
                 768  18       214272          692          413         3643          279           18   16   3 0.968           38           57           19          284
                 896  19       242816          862          591         2150          271            9   32   7 0.940           35           78           11          202
                1024  20       147456          621          477         1519          144           36    4   1 1              139          175           62          280
                1280  21       227840          516          338         1468          178           13   16   5 0.855           40           67           17          163
                1536  22      1830912         1365          173         1453         1192          150    8   3 0.993          159           66          155          100
                1792  23        66304          247          210          145           37            4   16   7 0.578           38           76            8           20
                2048  24      2226176         1417          330         5738         1087          544    2   1 0.999          201          148          655          134
                2560  25        61440          100           76           27           24            4    8   5 0.750           17           43           12           11
                3072  26        36864           71           59            9           12            4    4   3 0.750            7           30           18            7
                3584  27        14336           52           48            7            4            4    8   7 0.125            6           35            5            6
                4096  28        69632          227          210        11091           17           17    1   1 1               37           68          227            0
                5120  29       112640           51           29           25           22            6    4   5 0.916            5           27           12            3
                6144  30         6144           11           10            3            1            1    2   3 0.500            1           25            6            0
                7168  31            0           10           10            1            0            0    4   7 1                1           26            3            0
                8192  32       638976          178          100          100           78           78    1   2 1               29           50          178            0
               10240  33        20480           46           44           35            2            1    2   5 1               25           50           14            3
               12288  34     12718080         1050           15         1017         1035         1035    1   3 1              105           27         1050            0
               14336  35        14336           10            9            1            1            1    2   7 0.500            1           25            5            0
large:          size ind    allocated      nmalloc      ndalloc    nrequests      curruns
               16384  36       131072           28           20           63            8
                     ---
               28672  39       716800           48           23           48           25
               32768  40       294912           34           25        16491            9
               40960  41        40960            1            0            1            1
                     ---
               57344  43       229376            4            0            4            4
               65536  44            0           65           65           65            0
                     ---
              131072  48       131072         6456         6455         6456            1
                     ---
              262144  52            0            2            2            2            0
                     ---
              524288  56            0            2            2            2            0
                     ---
             1048576  60            0            2            2            2            0
                     ---
huge:           size ind    allocated      nmalloc      ndalloc    nrequests   curhchunks
             2097152  64      4194304            4            2            4            2
                     ---
             4194304  68            0            2            2            2            0
                     ---
             6291456  70            0            2            2            2            0
                     ---
             8388608  72            0            2            2            2            0
                     ---
            20971520  77     20971520            1            0            1            1
                     ---
--- End jemalloc statistics ---
----
