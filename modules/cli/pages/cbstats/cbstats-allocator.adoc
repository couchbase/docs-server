= allocator
:page-topic-type: reference

[abstract]
Provides information on memory management.

== Syntax

Request syntax:

----
cbstats [host]:11210 allocator
----

== Description

This command is used to collect information on memory management.

== Options

None

== Examples

Example request:

----
cbstats 10.5.2.54:11210 allocator
----

*Response:*

----
___ Begin jemalloc statistics ___
Version: 4.3.1-0-g0110fa8451af905affd77c3bea0d545fee2251b2
Assertions disabled
config.malloc_conf: ""
Run-time option settings:
  opt.abort: false
  opt.lg_chunk: 21
  opt.dss: "secondary"
  opt.narenas: 1
  opt.purge: "ratio"
  opt.lg_dirty_mult: 3 (arenas.lg_dirty_mult: 3)
  opt.junk: "false"
  opt.quarantine: 0
  opt.redzone: false
  opt.zero: false
  opt.tcache: true
  opt.lg_tcache_max: 15
  opt.prof: true
  opt.prof_prefix: "jeprof"
  opt.prof_active: false (prof.active: false)
  opt.prof_thread_active_init: true (prof.thread_active_init: true)
  opt.lg_prof_sample: 19 (prof.lg_sample: 19)
  opt.prof_accum: false
  opt.lg_prof_interval: -1
  opt.prof_gdump: false
  opt.prof_final: false
  opt.prof_leak: false
  opt.stats_print: false
Arenas: 1
Min active:dirty page ratio per arena: 8:1
Quantum size: 16
Page size: 4096
Maximum thread-cached size class: 32768
Allocated: 56561744, active: 59334656, metadata: 2598472, resident: 61198336, mapped: 73400320, retained: 16777216
Current active ceiling: 60817408

Merged arenas stats:
assigned threads: 25
dss allocation precedence: N/A
min active:dirty page ratio: N/A
purging: dirty: 0, sweeps: 154, madvises: 709, purged: 35296
                            allocated      nmalloc      ndalloc    nrequests
small:                       29966416      1008953       896069      4838346
large:                        1429504         6737         6693        23620
huge:                        25165824           23           20           23
total:                       56561744      1015713       902782      4861989
active:                      59334656
mapped:                      71303168
retained:                    16777216
metadata: mapped: 1171456, allocated: 735560
bins:           size ind    allocated      nmalloc      ndalloc    nrequests      curregs      curruns regs pgs  util       nfills     nflushes      newruns       reruns
                   8   0        25264        12082         8924        48269         3158            8  512   1 0.770          342          403            9           20
                  16   1        49568        17567        14469        59730         3098           16  256   1 0.756          774          500           16          191
                  32   2      1155712       265020       228904      1097312        36116          331  128   1 0.852         9990         2667         1686         1768
                  48   3       714192       322594       307715       937167        14879          118  256   3 0.492        17258         3371          823         1808
                  64   4       634240        28737        18827      1205793         9910          166   64   1 0.932          857          670          267         1039
                  80   5       451520        41801        36157       416346         5644           56  256   5 0.393         2200          651           57          892
                  96   6      1388736        28120        13654       275600        14466          123  128   3 0.918         2780          506          132          901
                 112   7       478800        84972        80697        96569         4275           28  256   7 0.596         6179         1104          293          139
                 128   8        80256        38245        37618        48796          627           29   32   1 0.675         4740         1499         1111          252
                 160   9        35040        99007        98788       110106          219            6  128   5 0.285         7284         1269          718          121
                 192  10       276480        26712        25272        32077         1440           23   64   3 0.978         2413          583          373         2342
                 224  11       118720         2704         2174        24423          530            7  128   7 0.591           45          131            9          493
                 256  12       801280        10594         7464        39653         3130          205   16   1 0.954          959          491          284         3058
                 320  13       348480         5964         4875        17933         1089           19   64   5 0.895          103          249           24         1815
                 384  14       740352         3868         1940        22381         1928           61   32   3 0.987          110          110           61         1515
                 448  15      1159424         3689         1101        11599         2588           41   64   7 0.986           66           94           42          473
                 512  16      2433024         6176         1424        57318         4752          597    8   1 0.994          817          334          600         1279
                 640  17       402560         2449         1820       304634          629           20   32   5 0.982          113          163           25          878
                 768  18       221952          957          668         5584          289           19   16   3 0.950           37           74           19          487
                 896  19       239232          968          701         2878          267            9   32   7 0.927           26           89           12          298
                1024  20       133120          956          826         2158          130           34    4   1 0.955          210          291          109          447
                1280  21       250880          643          447         1635          196           13   16   5 0.942           44           89           16          247
                1536  22      1855488         1437          229         1535         1208          152    8   3 0.993          168           85          155          129
                1792  23        73472          268          227          158           41            4   16   7 0.640           36           92            7           22
                2048  24      2203648         1618          542         6211         1076          542    2   1 0.992          247          233          685          279
                2560  25        56320          108           86           34           22            4    8   5 0.687           20           66           11            7
                3072  26        64512           62           41            8           21            6    4   3 0.875            6           47           15            5
                3584  27        14336           52           48            7            4            4    8   7 0.125            6           54            5            3
                4096  28        57344          199          185        11236           14           14    1   1 1               30           78          199            0
                5120  29       112640           52           30           26           22            6    4   5 0.916            5           46           12            3
                6144  30         6144           11           10            3            1            1    2   3 0.500            1           44            6            0
                7168  31            0           10           10            1            0            0    4   7 1                1           45            3            0
                8192  32       630784          182          105           72           77           77    1   2 1               28           70          182            0
               10240  33        20480           69           67           66            2            1    2   5 1               49           93           13            2
               12288  34     12718080         1050           15         1027         1035         1035    1   3 1              105           46         1050            0
               14336  35        14336           10            9            1            1            1    2   7 0.500            1           44            5            0
large:          size ind    allocated      nmalloc      ndalloc    nrequests      curruns
               16384  36       114688           22           15           25            7
                     ---
               28672  39       716800           67           42           67           25
               32768  40       196608           29           23        16909            6
               40960  41        40960            1            0            1            1
                     ---
               57344  43       229376            4            0            4            4
               65536  44            0          134          134          134            0
                     ---
              131072  48       131072         6465         6464         6465            1
                     ---
              262144  52            0            5            5            5            0
                     ---
              524288  56            0            5            5            5            0
                     ---
             1048576  60            0            5            5            5            0
                     ---
huge:           size ind    allocated      nmalloc      ndalloc    nrequests   curhchunks
             2097152  64      4194304            7            5            7            2
                     ---
             4194304  68            0            5            5            5            0
                     ---
             6291456  70            0            5            5            5            0
                     ---
             8388608  72            0            5            5            5            0
                     ---
            20971520  77     20971520            1            0            1            1
                     ---

arenas[0]:
assigned threads: 25
dss allocation precedence: secondary
min active:dirty page ratio: 8:1
purging: dirty: 0, sweeps: 154, madvises: 709, purged: 35296
                            allocated      nmalloc      ndalloc    nrequests
small:                       29966416      1008953       896069      4838346
large:                        1429504         6737         6693        23620
huge:                        25165824           23           20           23
total:                       56561744      1015713       902782      4861989
active:                      59334656
mapped:                      71303168
retained:                    16777216
metadata: mapped: 1171456, allocated: 735560
bins:           size ind    allocated      nmalloc      ndalloc    nrequests      curregs      curruns regs pgs  util       nfills     nflushes      newruns       reruns
                   8   0        25264        12082         8924        48269         3158            8  512   1 0.770          342          403            9           20
                  16   1        49568        17567        14469        59730         3098           16  256   1 0.756          774          500           16          191
                  32   2      1155712       265020       228904      1097312        36116          331  128   1 0.852         9990         2667         1686         1768
                  48   3       714192       322594       307715       937167        14879          118  256   3 0.492        17258         3371          823         1808
                  64   4       634240        28737        18827      1205793         9910          166   64   1 0.932          857          670          267         1039
                  80   5       451520        41801        36157       416346         5644           56  256   5 0.393         2200          651           57          892
                  96   6      1388736        28120        13654       275600        14466          123  128   3 0.918         2780          506          132          901
                 112   7       478800        84972        80697        96569         4275           28  256   7 0.596         6179         1104          293          139
                 128   8        80256        38245        37618        48796          627           29   32   1 0.675         4740         1499         1111          252
                 160   9        35040        99007        98788       110106          219            6  128   5 0.285         7284         1269          718          121
                 192  10       276480        26712        25272        32077         1440           23   64   3 0.978         2413          583          373         2342
                 224  11       118720         2704         2174        24423          530            7  128   7 0.591           45          131            9          493
                 256  12       801280        10594         7464        39653         3130          205   16   1 0.954          959          491          284         3058
                 320  13       348480         5964         4875        17933         1089           19   64   5 0.895          103          249           24         1815
                 384  14       740352         3868         1940        22381         1928           61   32   3 0.987          110          110           61         1515
                 448  15      1159424         3689         1101        11599         2588           41   64   7 0.986           66           94           42          473
                 512  16      2433024         6176         1424        57318         4752          597    8   1 0.994          817          334          600         1279
                 640  17       402560         2449         1820       304634          629           20   32   5 0.982          113          163           25          878
                 768  18       221952          957          668         5584          289           19   16   3 0.950           37           74           19          487
                 896  19       239232          968          701         2878          267            9   32   7 0.927           26           89           12          298
                1024  20       133120          956          826         2158          130           34    4   1 0.955          210          291          109          447
                1280  21       250880          643          447         1635          196           13   16   5 0.942           44           89           16          247
                1536  22      1855488         1437          229         1535         1208          152    8   3 0.993          168           85          155          129
                1792  23        73472          268          227          158           41            4   16   7 0.640           36           92            7           22
                2048  24      2203648         1618          542         6211         1076          542    2   1 0.992          247          233          685          279
                2560  25        56320          108           86           34           22            4    8   5 0.687           20           66           11            7
                3072  26        64512           62           41            8           21            6    4   3 0.875            6           47           15            5
                3584  27        14336           52           48            7            4            4    8   7 0.125            6           54            5            3
                4096  28        57344          199          185        11236           14           14    1   1 1               30           78          199            0
                5120  29       112640           52           30           26           22            6    4   5 0.916            5           46           12            3
                6144  30         6144           11           10            3            1            1    2   3 0.500            1           44            6            0
                7168  31            0           10           10            1            0            0    4   7 1                1           45            3            0
                8192  32       630784          182          105           72           77           77    1   2 1               28           70          182            0
               10240  33        20480           69           67           66            2            1    2   5 1               49           93           13            2
               12288  34     12718080         1050           15         1027         1035         1035    1   3 1              105           46         1050            0
               14336  35        14336           10            9            1            1            1    2   7 0.500            1           44            5            0
large:          size ind    allocated      nmalloc      ndalloc    nrequests      curruns
               16384  36       114688           22           15           25            7
                     ---
               28672  39       716800           67           42           67           25
               32768  40       196608           29           23        16909            6
               40960  41        40960            1            0            1            1
                     ---
               57344  43       229376            4            0            4            4
               65536  44            0          134          134          134            0
                     ---
              131072  48       131072         6465         6464         6465            1
                     ---
              262144  52            0            5            5            5            0
                     ---
              524288  56            0            5            5            5            0
                     ---
             1048576  60            0            5            5            5            0
                     ---
huge:           size ind    allocated      nmalloc      ndalloc    nrequests   curhchunks
             2097152  64      4194304            7            5            7            2
                     ---
             4194304  68            0            5            5            5            0
                     ---
             6291456  70            0            5            5            5            0
                     ---
             8388608  72            0            5            5            5            0
                     ---
            20971520  77     20971520            1            0            1            1
                     ---
--- End jemalloc statistics ---
----
