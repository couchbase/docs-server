= setting-compaction
:page-topic-type: reference

[abstract]
Set the auto compaction settings.

== Syntax

The basic syntax is:

----
couchbase-cli setting-compaction -c [host]:8091 -u [admin] -p [password]
    [options]
----

== Description

Use this command to set various options for auto compaction.

== Options

The following are the command options:

.setting-compaction options
[cols="51,50"]
|===
| Options | Description

| `--compaction-db-percentage=PERCENTAGE`
| Percentage of disk fragmentation when the bucket compaction is triggered.

| `--compaction-db-size=SIZE[MB]`
| Size of disk fragmentation when the bucket compaction is triggered.

| `--compaction-view-percentage=PERCENTAGE`
| Percentage of disk fragmentation when the views compaction is triggered.

| `--compaction-view-size=SIZE[MB]`
| Size of disk fragmentation when the views compaction is triggered.

| `--compaction-period-from=HH:MM`
| Enable compaction from this time onwards.

| `--compaction-period-to=HH:MM`
| Stop enabling compaction at this time.

| `--enable-compaction-abort=[0{vbar}1]`
| Allow compaction to abort when time expires (yes=1, no=0).

| `--enable-compaction-parallel=[0{vbar}1]`
| Allow parallel compaction processes for bucket and view (yes=1, no=0).
|===

== Examples

Enable auto compaction starting at 10:00 AM.

----
couchbase-cli setting-cluster -c 192.168.0.1:8091 -u Administrator -p password \
--compaction-period-from=10:00
----
