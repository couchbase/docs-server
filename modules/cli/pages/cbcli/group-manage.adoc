[#cbcli-rza]
= [.cmd]`group-manage`

[abstract]
Rack-Zone Awareness with its server group capability is available only in  Couchbase Server Enterprise Edition.

== Syntax

The basic syntax is:

----
couchbase-cli group-manage -c [host]:8091 -u [admin] -p [password] [options]
----

== Description

To configure servers into groups, use the [.cmd]`group-manage` command.

The  xref:architecture:cluster-manager.adoc#RZA[Rack Zone Awareness (RZA)]feature provides the ability to specify that active and corresponding replica partitions be created on servers that are part of a separate rack or zone.
It enables logical groupings of servers on a cluster where each server group physically belongs to a rack or Availability Zone.

== Options

The following are the command options:

.group-manage options
[cols="17,10"]
|===
| Option | Description

| `--create`
| Create a new group.

| `--delete`
| Deletes an empty group.

| `--list`
| Show the group/server relationship map.

| `--group-name=GROUPNAME`
| Group name.

| `--index-storage-setting=SETTING`
| Index storage type [default, memopt]

| `--move-servers=Host[:PORT],HOST[:PORT]`
| Move a list of servers from a group.

| `--rename=NEWGROUPNAME`
| Renames an existing group.

| `--services=data,index,query`
| Services that the server runs.

| `--add-servers=HOST [:PORT],HOST[:PORT]`
| Adds servers to a group.

| `--from-group=GROUPNAME`
| The name of the group from which you are removing the servers.

| `--to-group=GROUPNAME`
| The name of the group from to which you are adding the servers.
|===

== Examples

A server group is created:

NOTE: The command using the `-create --group-name` options can fail when an exclamation (!) is present inside the group name.

----
couchbase-cli group-manage -c 192.168.0.1:8091 -u myAdminName -p myAdminPassword \
--create --group-name=myGroupName
----

----
couchbase-cli group-manage -c 192.168.0.1:8091 -u myAdminName -p myAdminPassword \
--group-name=myNewGroup --add-servers="10.1.1.1:8091;10.1.1.2:8091"
----

A server is added to the server group using the `server-add` command.

NOTE: The [.cmd]`group-manage` command is the preferred method for adding servers to a server group.

One server with both the data and query services enabled is added to a server group using the `group-manage` command.

----
couchbase-cli group-manage -c 192.168.0.1:8091 \ 
-u myAdminName -p myAdminPassword --group-name=myNewGroup \
--create --add-servers=10.1.1.1:8091 --services=data,query
----

Two servers are moved from one server group to another using the `group-manage` command.

----
couchbase-cli group-manage -c 192.168.0.1:8091 \ 
-u myAdminName -p myAdminPassword --from-group=myFirstGroup \
--to-group=mySecondGroup --move-servers="10.1.1.1:8091;10.1.1.2:8091"
----
